/*!
 *  __  __                __                                     __
 * /\ \/\ \              /\ \             __                    /\ \
 * \ \ \_\ \   __  __    \_\ \      __   /\_\      __       ___ \ \ \/'\
 *  \ \  _  \ /\ \/\ \   /'_` \   /'__`\ \/\ \   /'__`\    /'___\\ \ , <
 *   \ \ \ \ \\ \ \_\ \ /\ \L\ \ /\  __/  \ \ \ /\ \L\.\_ /\ \__/ \ \ \\`\
 *    \ \_\ \_\\/`____ \\ \___,_\\ \____\ _\ \ \\ \__/.\_\\ \____\ \ \_\ \_\
 *     \/_/\/_/ `/___/> \\/__,_ / \/____//\ \_\ \\/__/\/_/ \/____/  \/_/\/_/
 *                 /\___/                \ \____/
 *                 \/__/                  \/___/
 *
 * Powered by Hydejack v9.1.0-beta.9 <https://hydejack.com/>
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{307:function(t,e,r){"use strict";r.d(e,"g",(function(){return n.a})),r.d(e,"m",(function(){return n.c})),r.d(e,"a",(function(){return d})),r.d(e,"b",(function(){return v})),r.d(e,"e",(function(){return O.c})),r.d(e,"d",(function(){return O.b})),r.d(e,"l",(function(){return m.c})),r.d(e,"h",(function(){return m.b})),r.d(e,"c",(function(){return m.a})),r.d(e,"i",(function(){return j.b})),r.d(e,"j",(function(){return j.c})),r.d(e,"k",(function(){return j.d})),r.d(e,"f",(function(){return j.a}));var n=r(83),o=r(314),i=r(311);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return c=t.done,t},e:function(t){u=!0,i=t},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw i}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e,r){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=y(t);if(e){var o=y(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}function b(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(c,t);var e,r,n,o=h(c);function c(){var t;return s(this,c),(t=o.apply(this,arguments)).$connected=new i.a,t}return e=c,(r=[{key:"connectedCallback",value:function(){f(y(c.prototype),"connectedCallback",this).call(this),this.$connected.next(!0)}},{key:"disconnectedCallback",value:function(){f(y(c.prototype),"disconnectedCallback",this).call(this),this.$connected.next(!1)}},{key:"firstUpdated",value:function(){this.firstUpdate=!0}},{key:"updated",value:function(t){if(!this.firstUpdate){var e,r=u(t.keys());try{for(r.s();!(e=r.n()).done;){var n=e.value;n in this.$&&this.$[n].next(this[n])}}catch(t){r.e(t)}finally{r.f()}}this.firstUpdate=!1}},{key:"fireEvent",value:function(t,e){this.dispatchEvent(new CustomEvent(t,e)),this.dispatchEvent(new CustomEvent("".concat(this.tagName.toLowerCase(),"-").concat(t),e))}}])&&l(e.prototype,r),n&&l(e,n),c}(o.a);function v(t,e){return e.forEach((function(e){Object.getOwnPropertyNames(e.prototype).forEach((function(r){t.prototype[r]=e.prototype[r]}))})),t}var O=r(110),m=r(82),j=r(67)},311:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r(2),o=r(6),i=r(16),c=r(111),u=Object(c.a)((function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),a=r(59),s=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return Object(n.c)(e,t),e.prototype.lift=function(t){var e=new l(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new u},e.prototype.next=function(t){var e,r;if(this._throwIfClosed(),!this.isStopped){var o=this.observers.slice();try{for(var i=Object(n.g)(o),c=i.next();!c.done;c=i.next()){c.value.next(t)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}}},e.prototype.error=function(t){if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;for(var e=this.observers;e.length;)e.shift().error(t)}},e.prototype.complete=function(){if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;for(var t=this.observers;t.length;)t.shift().complete()}},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,r=this.hasError,n=this.isStopped,o=this.observers;return r||n?i.a:(o.push(t),new i.b((function(){return Object(a.a)(e.observers,t)})))},e.prototype._checkFinalizedStatuses=function(t){var e=this.hasError,r=this.thrownError,n=this.isStopped;e?t.error(r):n&&t.complete()},e.prototype.asObservable=function(){var t=new o.a;return t.source=this,t},e.create=function(t,e){return new l(t,e)},e}(o.a),l=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return Object(n.c)(e,t),e.prototype.next=function(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)},e.prototype.error=function(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:i.a},e}(s)},312:function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return i}));var n=r(6),o=new n.a((function(t){return t.complete()}));function i(t){return t?function(t){return new n.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):o}},315:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=Array.isArray;function o(t){return 1===t.length&&n(t[0])?t[0]:t}},322:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n=r(113),o=r(48),i=r(14);function c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(o.c)(t);return Object(i.b)((function(e,o){(r?Object(n.a)(t,e,r):Object(n.a)(t,e)).subscribe(o)}))}},327:function(t,e,r){"use strict";r.d(e,"a",(function(){return h}));var n=r(2),o=r(6),i=r(16),c=r(14),u=r(10);function a(){return Object(c.b)((function(t,e){var r=null;t._refCount++;var n=new u.a(e,void 0,void 0,void 0,(function(){if(!t||t._refCount<=0||0<--t._refCount)r=null;else{var n=t._connection,o=r;r=null,!n||o&&n!==o||n.unsubscribe(),e.unsubscribe()}}));t.subscribe(n),n.closed||(r=t.connect())}))}var s=function(t){function e(e,r){var n=t.call(this)||this;return n.source=e,n.subjectFactory=r,n._subject=null,n._refCount=0,n._connection=null,n}return Object(n.c)(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype._teardown=function(){this._refCount=0;var t=this._connection;this._subject=this._connection=null,null==t||t.unsubscribe()},e.prototype.connect=function(){var t=this,e=this._connection;if(!e){e=this._connection=new i.b;var r=this.getSubject();e.add(this.source.subscribe(new u.a(r,void 0,(function(e){t._teardown(),r.error(e)}),(function(){t._teardown(),r.complete()}),(function(){return t._teardown()})))),e.closed&&(this._connection=null,e=i.b.EMPTY)}return e},e.prototype.refCount=function(){return a()(this)},e}(o.a),l=r(1);var f=r(311);function p(){return new f.a}function h(){return function(t){return a()((e=p,n=Object(l.a)(e)?e:function(){return e},Object(l.a)(r)?Object(c.b)((function(t,e){var o=n();r(o).subscribe(e).add(t.subscribe(o))})):function(t){var e=new s(t,n);return Object(c.a)(t)&&(e.lift=t.lift),e.source=t,e.subjectFactory=n,e})(t));var e,r,n}}},328:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(14),o=r(10);function i(t){return Object(n.b)((function(e,r){e.subscribe(new o.a(r,(function(){return r.next(t)})))}))}},329:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r(112),o=r(49),i=r(315),c=r(18),u=r(312),a=r(48);function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(a.c)(t),s=Object(a.a)(t,1/0),l=Object(i.a)(t);return l.length?1===l.length?Object(c.c)(l[0]):Object(n.a)(s)(Object(o.a)(l,r)):u.a}},330:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(14),o=r(10);function i(){return Object(n.b)((function(t,e){var r,n=!1;t.subscribe(new o.a(e,(function(t){var o=r;r=t,n&&e.next([o,t]),n=!0})))}))}},331:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(14);function o(t){return Object(n.b)((function(e,r){e.subscribe(r),r.add(t)}))}},339:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(14),o=r(10);function i(t,e){return t=null!=t?t:c,Object(n.b)((function(r,n){var i,c=!0;r.subscribe(new o.a(n,(function(r){(c&&(i=r,1)||!t(i,i=e?e(r):r))&&n.next(r),c=!1})))}))}function c(t,e){return t===e}},340:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n=r(312),o=r(14),i=r(10);function c(t){return t<=0?function(){return n.a}:Object(o.b)((function(e,r){var n=0;e.subscribe(new i.a(r,(function(e){++n<=t&&(r.next(e),t<=n&&r.complete())})))}))}},341:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(6),o=r(18);function i(t){return new n.a((function(e){Object(o.c)(t()).subscribe(e)}))}},342:function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var n=r(14),o=r(10),i=r(18),c=r(23);function u(t){return Object(n.b)((function(e,r){Object(i.c)(t).subscribe(new o.a(r,(function(){return r.complete()}),void 0,c.a)),!r.closed&&e.subscribe(r)}))}},343:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(2),o=function(t){function e(e){var r=t.call(this)||this;return r._value=e,r}return Object(n.c)(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){var t=this.hasError,e=this.thrownError,r=this._value;if(t)throw e;return this._throwIfClosed(),r},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(r(311).a)},353:function(t,e,r){"use strict";r.r(e),r.d(e,"HyPushState",(function(){return zt}));var n=r(314),o=r(311),i=r(305),c=r(329),u=r(2),a=r(144),s=r(142),l=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return Object(u.c)(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=s.a.requestAnimationFrame((function(){return e.flush(void 0)}))))},e.prototype.recycleAsyncId=function(e,r,n){if(void 0===n&&(n=0),null!=n&&n>0||null==n&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,n);0===e.actions.length&&(s.a.cancelAnimationFrame(r),e.scheduled=void 0)},e}(a.a),f=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.c)(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,n=-1;t=t||r.shift();var o=r.length;do{if(e=t.execute(t.state,t.delay))break}while(++n<o&&(t=r.shift()));if(this.active=!1,e){for(;++n<o&&(t=r.shift());)t.unsubscribe();throw e}},e}(r(146).a))(l),p=r(341),h=r(343),b=r(46),y=r(147),d=r(151),v=r(322),O=r(330),m=r(327),j=r(14),g=r(10);function w(t,e){return void 0===e&&(e=0),Object(j.b)((function(r,n){r.subscribe(new g.a(n,(function(r){return n.add(t.schedule((function(){return n.next(r)}),e))}),(function(r){return n.add(t.schedule((function(){return n.error(r)}),e))}),(function(){return n.add(t.schedule((function(){return n.complete()}),e))})))}))}var S,P=r(328),E=r(339),k=r(148),_=r(150),A=r(357),C=r(342),R=r(307);function L(t){var e=t.protocol,r=t.host,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;return e!==n.protocol||r!==n.host}function M(t){return t&&""===t.target}function I(t,e){var r=t.url,n=t.anchor,o=t.event,i=o.metaKey,c=o.ctrlKey;return!i&&!c&&M(n)&&!L(r,e)}function T(t,e){var r=t.url;return M(t.anchor)&&!L(r,e)&&!function(t){var e=t.hash,r=t.origin,n=t.pathname,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;return""!==e&&r===o.origin&&n===o.pathname}(r,e)}function x(t){var e=t.cause,r=t.url,n=r.pathname,o=r.hash;return n===t.oldURL.pathname&&(e===S.Pop||e===S.Push&&""!==o)}!function(t){t.Init="init",t.Hint="hint",t.Push="push",t.Pop="pop"}(S||(S={}));var N=r(108),U=r(358),q=r(340);function D(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var c,u=t[Symbol.iterator]();!(n=(c=u.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return H(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function F(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$(Object(r),!0).forEach((function(e){B(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function B(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var V=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e}var e,r,n;return e=t,(r=[{key:"fetchPage",value:function(t){return Object(R.g)(t.url.href,{method:"GET",mode:"cors",headers:{Accept:"text/html"}}).pipe(Object(k.a)((function(t){return t.text()})),Object(b.a)((function(e){return F(F({},t),{},{responseText:e})})),Object(A.a)((function(e){return Object(N.a)(F(F({},t),{},{error:e,responseText:null}))})))}},{key:"selectPrefetch",value:function(t,e,r){return t.href===e.url.href?Object(N.a)(e):r.pipe(Object(q.a)(1))}},{key:"getResponse",value:function(t,e,r){return Object(U.a)(this.selectPrefetch(e.url,r,t),this.parent.animPromise).pipe(Object(b.a)((function(t){return F(F({},D(t,1)[0]),e)})))}}])&&z(e.prototype,r),n&&z(e,n),t}(),W=r(18),J=r(306),K=r(331);function X(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var c,u=t[Symbol.iterator]();!(n=(c=u.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return G(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Q(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(r),!0).forEach((function(e){Z(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Z(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var et=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e}var e,r,n;return e=t,(r=[{key:"removeScriptTags",value:function(t){var e=this,r=[];return t.forEach((function(t){null!=t&&t.querySelectorAll(e.scriptSelector).forEach((function(t){var e=[function(t){var e=document.createElement("script");return Array.from(t.attributes).forEach((function(t){return e.setAttributeNode(t.cloneNode())})),e.innerHTML=t.innerHTML,e}(t),t];r.push(e)}))})),r}},{key:"reinsertScriptTags",value:function(t){var e=this;if(!this.scriptSelector)return Promise.resolve(t);var r=t.scripts,n=document.write;return Object(W.a)(r).pipe(Object(J.a)((function(t){return e.insertScript(t)})),Object(A.a)((function(e){return Object(N.a)(Q(Q({},t),{},{error:e}))})),Object(K.a)((function(){return document.write=n})),Object(P.a)(t)).toPromise()}},{key:"insertScript",value:function(t){var e=X(t,2),r=e[0],n=e[1];return document.write=function(){for(var t=document.createElement("div"),e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];t.innerHTML=r.join(),Array.from(t.childNodes).forEach((function(t){return n.parentNode.insertBefore(t,n)}))},new Promise((function(t,e){""!==r.src?(r.addEventListener("load",t),r.addEventListener("error",e),n.parentNode.replaceChild(r,n)):(n.parentNode.replaceChild(r,n),t({}))}))}},{key:"scriptSelector",get:function(){return this.parent.scriptSelector}}])&&tt(e.prototype,r),n&&tt(e,n),t}();function rt(t,e){t.forEach((function(t){t.querySelectorAll("[href]").forEach(nt("href",e)),t.querySelectorAll("[src]").forEach(nt("src",e)),t.querySelectorAll("img[srcset]").forEach(function(t,e){return function(r){try{r.setAttribute(t,r.getAttribute(t).split(/\s*,\s*/).map((function(t){var r=t.split(/\s+/);return r[0]=new URL(r[0],e).href,r.join(" ")})).join(", "))}catch(t){}}}("srcset",e)),t.querySelectorAll("blockquote[cite]").forEach(nt("cite",e)),t.querySelectorAll("del[cite]").forEach(nt("cite",e)),t.querySelectorAll("ins[cite]").forEach(nt("cite",e)),t.querySelectorAll("q[cite]").forEach(nt("cite",e)),t.querySelectorAll("img[longdesc]").forEach(nt("longdesc",e)),t.querySelectorAll("frame[longdesc]").forEach(nt("longdesc",e)),t.querySelectorAll("iframe[longdesc]").forEach(nt("longdesc",e)),t.querySelectorAll("img[usemap]").forEach(nt("usemap",e)),t.querySelectorAll("input[usemap]").forEach(nt("usemap",e)),t.querySelectorAll("object[usemap]").forEach(nt("usemap",e)),t.querySelectorAll("form[action]").forEach(nt("action",e)),t.querySelectorAll("button[formaction]").forEach(nt("formaction",e)),t.querySelectorAll("input[formaction]").forEach(nt("formaction",e)),t.querySelectorAll("video[poster]").forEach(nt("poster",e)),t.querySelectorAll("object[data]").forEach(nt("data",e)),t.querySelectorAll("object[codebase]").forEach(nt("codebase",e)),t.querySelectorAll("object[archive]").forEach(function(t,e){return function(r){try{r.setAttribute(t,r.getAttribute(t).split(/[\s,]+/).map((function(t){return new URL(t,e).href})).join(", "))}catch(t){}}}("archive",e))}))}function nt(t,e){return function(r){try{r.setAttribute(t,new URL(r.getAttribute(t),e).href)}catch(t){}}}function ot(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var c,u=t[Symbol.iterator]();!(n=(c=u.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return it(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return it(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ct(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ut(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(r),!0).forEach((function(e){at(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function at(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function st(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var lt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this.scriptManager=new et(e)}var e,r,n;return e=t,(r=[{key:"getReplaceElements",value:function(t){if(this.replaceSelector)return this.replaceSelector.split(",").map((function(e){return t.querySelector(e)}));if(this.el.id)return[t.getElementById(this.el.id)];var e=Array.from(document.getElementsByTagName(this.el.tagName)).indexOf(this.el);return[t.getElementsByTagName(this.el.tagName)[e]]}},{key:"responseToContent",value:function(t){var e=t.responseText,r=(new DOMParser).parseFromString(e,"text/html"),n=r.title,o=void 0===n?"":n,i=this.getReplaceElements(r);if(i.every((function(t){return null==t})))throw new Error("Couldn't find any element in the document at '".concat(location,"'."));var c=this.scriptSelector?this.scriptManager.removeScriptTags(i):[];return ut(ut({},t),{},{document:r,title:o,replaceEls:i,scripts:c})}},{key:"replaceContentWithSelector",value:function(t){this.replaceSelector.split(",").map((function(t){return document.querySelector(t)})).forEach((function(e,r){return e.parentNode.replaceChild(t[r],e)}))}},{key:"replaceContentWholesale",value:function(t){var e=ot(t,1)[0];this.el.innerHTML=e.innerHTML}},{key:"replaceContent",value:function(t){this.replaceSelector?this.replaceContentWithSelector(t):this.replaceContentWholesale(t)}},{key:"replaceHead",value:function(t){var e=this.el.ownerDocument.head,r=e.querySelector("link[rel=canonical]"),n=t.head.querySelector("link[rel=canonical]");r&&n&&(r.href=n.href);var o=e.querySelector("meta[name=description]"),i=t.head.querySelector("meta[name=description]");o&&i&&(o.content=i.content)}},{key:"updateDOM",value:function(t){try{var e=t.replaceEls,r=t.document;L(this.parent)&&rt(e,this.parent.href),this.replaceHead(r),this.replaceContent(e)}catch(e){throw ut(ut({},t),{},{error:e})}}},{key:"reinsertScriptTags",value:function(t){return this.scriptManager.reinsertScriptTags(t)}},{key:"el",get:function(){return this.parent.el}},{key:"replaceSelector",get:function(){return this.parent.replaceSelector}},{key:"scriptSelector",get:function(){return this.parent.scriptSelector}}])&&st(e.prototype,r),n&&st(e,n),t}(),ft=r(47),pt=r(112);function ht(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var bt=function(t){return Array.prototype.concat.apply([],t)},yt=function(t){return{addedNodes:new Set(bt(t.map((function(t){return Array.from(t.addedNodes)})))),removedNodes:new Set(bt(t.map((function(t){return Array.from(t.removedNodes)}))))}},dt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,(r=[{key:"setupEventListeners",value:function(){var t=this,e=Object(i.a)(this.el,"click").pipe(Object(b.a)((function(e){var r=Object(R.k)(e.target,t.linkSelector);if(r instanceof HTMLAnchorElement)return[e,r]})),Object(y.a)((function(t){return!!t}))),r=function(t,e){return t.matches(e)?Object(N.a)(t):Object(W.a)(t.querySelectorAll(e))};return{hintEvent$:this.$.linkSelector.pipe(Object(k.a)((function(e){var n=new Map,o=function(t){n.has(t)||n.set(t,function(t){return Object(c.a)(Object(i.a)(t,"mouseenter",{passive:!0}),Object(i.a)(t,"touchstart",{passive:!0}),Object(i.a)(t,"focus",{passive:!0})).pipe(Object(b.a)((function(e){return[e,t]})))}(t))},u=function(t){n.delete(t)};return Object(R.d)(t.el,{childList:!0,subtree:!0}).pipe(Object(v.a)({addedNodes:[t.el],removedNodes:[]}),Object(R.c)(500),Object(b.a)(yt),Object(k.a)((function(t){var i=t.addedNodes,c=t.removedNodes;return Object(W.a)(c).pipe(Object(y.a)((function(t){return t instanceof Element})),Object(ft.a)((function(t){return r(t,e)})),Object(d.a)(u)).subscribe(),Object(W.a)(i).pipe(Object(y.a)((function(t){return t instanceof Element})),Object(ft.a)((function(t){return r(t,e)})),Object(d.a)(o)).subscribe(),Object(W.a)(n.values()).pipe(Object(pt.a)())})),Object(R.l)(t.$.prefetch))}))),pushEvent$:e}}}])&&ht(e.prototype,r),n&&ht(e,n),t}();function vt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ot(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(r),!0).forEach((function(e){mt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function mt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var gt=function(t){return new Promise((function(e){return setTimeout(e,t)}))},wt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e}var e,r,n;return e=t,(r=[{key:"onStart",value:function(t){var e=this;this.parent.animPromise=gt(this.parent.duration),this.parent.fireEvent("start",{detail:Ot(Ot({},t),{},{transitionUntil:function(t){e.parent.animPromise=Promise.all([e.parent.animPromise,t])}})})}},{key:"emitDOMError",value:function(t){var e=location.href;window.history.back(),setTimeout((function(){return document.location.assign(e)}),100)}},{key:"emitNetworkError",value:function(t){this.parent.fireEvent("networkerror",{detail:t})}},{key:"emitError",value:function(t){this.parent.fireEvent("error",{detail:t})}},{key:"emitReady",value:function(t){this.parent.fireEvent("ready",{detail:t})}},{key:"emitAfter",value:function(t){var e=this;this.parent.fadePromise=gt(this.parent.duration),this.parent.fireEvent("after",{detail:Ot(Ot({},t),{},{transitionUntil:function(t){e.parent.fadePromise=Promise.all([e.parent.fadePromise,t])}})})}},{key:"emitProgress",value:function(t){this.parent.fireEvent("progress",{detail:t})}},{key:"emitLoad",value:function(t){this.parent.fireEvent("load",{detail:t})}}])&&jt(e.prototype,r),n&&jt(e,n),t}();function St(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Pt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?St(Object(r),!0).forEach((function(e){Et(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):St(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Et(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}window.HashChangeEvent=window.HashChangeEvent||function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.oldURL,n=void 0===r?"":r,o=e.newURL,i=void 0===o?"":o,c=new CustomEvent(t);return c.oldURL=n,c.newURL=i,c};var _t=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.updateHistoryScrollPosition=function(){if(!L(r.parent)){var t=r.assignScrollPosition(history.state||{});history.replaceState(t,document.title)}},this.parent=e}var e,r,n;return e=t,(r=[{key:"updateHistoryState",value:function(t){var e=t.cause,r=t.replace,n=t.url,o=t.oldURL;if(!L(this.parent))switch(e){case S.Init:case S.Push:var i=this.parent.histId;if(r||n.href===location.href){var c=Pt(Pt({},history.state),{},Et({},i,{}));history.replaceState(c,document.title,n.href)}else history.pushState(Et({},i,{}),document.title,n.href);case S.Pop:this.parent.simulateHashChange&&function(t,e){t.hash!==e.hash&&window.dispatchEvent(new HashChangeEvent("hashchange",{newURL:t.href,oldURL:e.href}))}(n,o)}}},{key:"updateTitle",value:function(t){var e=t.cause,r=t.title;document.title=r,L(this.parent)||e!==S.Push||history.replaceState(history.state,r)}},{key:"assignScrollPosition",value:function(t){var e=this.parent.histId;return Pt(Pt({},t),{},Et({},e,Pt(Pt({},t[e]),{},{scrollTop:Object(R.j)(),scrollHeight:Object(R.i)()})))}}])&&kt(e.prototype,r),n&&kt(e,n),t}();function At(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Ct=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,"scrollRestoration"in history&&(history.scrollRestoration="manual")}var e,r,n;return e=t,(r=[{key:"manageScrollPosition",value:function(t){var e=t.cause,r=t.url.hash;switch(e){case S.Push:this.scrollHashIntoView(r,{behavior:"smooth",block:"start",inline:"nearest"});break;case S.Pop:this.restoreScrollPosition();break;case S.Init:this.restoreScrollPositionOnReload()}}},{key:"elementFromHash",value:function(t){return document.getElementById(decodeURIComponent(t.substr(1)))}},{key:"scrollHashIntoView",value:function(t,e){if(t){var r=this.elementFromHash(t);r&&r.scrollIntoView(e)}else window.scroll(window.pageXOffset,0)}},{key:"restoreScrollPosition",value:function(){var t=this.parent.histId,e=(history.state&&history.state[t]||{}).scrollTop;null!=e&&window.scroll(window.pageXOffset,e)}},{key:"restoreScrollPositionOnReload",value:function(){var t=this,e=this.parent.histId;history.state&&history.state[e]&&0===Object(R.j)()?this.restoreScrollPosition():location.hash&&requestAnimationFrame((function(){return t.scrollHashIntoView(location.hash,!0)}))}}])&&At(e.prototype,r),n&&At(e,n),t}();function Rt(t){return function(t){if(Array.isArray(t))return It(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Mt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var c,u=t[Symbol.iterator]();!(n=(c=u.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(t,e)||Mt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(t,e){if(t){if("string"==typeof t)return It(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?It(t,e):void 0}}function It(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Nt(t,e,r){return(Nt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$t(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function Ut(t,e){return(Ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=$t(t);if(e){var o=$t(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Dt(this,r)}}function Dt(t,e){return!e||"object"!==Ft(e)&&"function"!=typeof e?Ht(t):e}function Ht(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $t(t){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ft(t){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Bt=function(t,e,r,n){var o,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===("undefined"==typeof Reflect?"undefined":Ft(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(c=(i<3?o(c):i>3?o(e,r,c):o(e,r))||c);return i>3&&c&&Object.defineProperty(e,r,c),c},zt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ut(t,e)}(a,t);var e,r,n,u=qt(a);function a(){var t;return Tt(this,a),(t=u.apply(this,arguments)).el=Ht(t),t.linkSelector="a[href]:not([data-no-push])",t.prefetch=!1,t.duration=0,t.simulateHashChange=!1,t.baseURL=window.location.href,t._initialized=Object(R.f)(),t.$={},t.fadePromise=Promise.resolve(null),t.scrollManager=new Ct(Ht(t)),t.historyManager=new _t(Ht(t)),t.fetchManager=new V(Ht(t)),t.updateManager=new lt(Ht(t)),t.eventManager=new wt(Ht(t)),t._url=new URL(t.baseURL),t.reload$=new o.a,t.cacheNr=0,t.upgrade=function(){var e=t.setupEventListeners(),r=e.pushEvent$,n=e.hintEvent$,o={},u=r.pipe(Object(b.a)((function(e){var r=Lt(e,2),n=r[0],o=r[1];return{cause:S.Push,url:new URL(o.href,t.href),anchor:o,event:n,cacheNr:t.cacheNr}})),Object(y.a)((function(e){return I(e,Ht(t))})),Object(d.a)((function(e){e.event.preventDefault(),t.historyManager.updateHistoryScrollPosition()}))),a=Object(i.a)(window,"popstate").pipe(Object(y.a)((function(){return window.history.state&&window.history.state[t.histId]})),Object(b.a)((function(e){return{cause:S.Pop,url:new URL(window.location.href),cacheNr:t.cacheNr,event:e}}))),s=t.reload$,l=Object(c.a)(u,a,s).pipe(Object(v.a)({url:new URL(window.location.href)}),Object(O.a)(),Object(b.a)((function(t){var e=Lt(t,2),r=e[0],n=e[1];return Object.assign(n,{oldURL:r.url})})),Object(m.a)()),h=l.pipe(Object(y.a)((function(t){return!x(t)})),Object(m.a)()),j=l.pipe(Object(y.a)((function(t){return x(t)})),Object(y.a)((function(){return history.state&&history.state[t.histId]})),w(f),Object(d.a)((function(e){t.historyManager.updateHistoryState(e),t.scrollManager.manageScrollPosition(e)}))),g=Object(p.a)((function(){return Object(c.a)(h.pipe(Object(P.a)(!0)),o.response$.pipe(Object(P.a)(!1)))})).pipe(Object(v.a)(!1)),L=n.pipe(Object(R.h)(g.pipe(Object(b.a)((function(t){return!t})))),Object(b.a)((function(e){var r=Lt(e,2),n=r[0],o=r[1];return{cause:S.Hint,url:new URL(o.href,t.href),anchor:o,event:n,cacheNr:t.cacheNr}})),Object(y.a)((function(e){return T(e,Ht(t))}))),M=Object(c.a)(L,h).pipe(Object(E.a)((function(e,r){return t.compareContext(e,r)})),Object(k.a)((function(e){return t.fetchManager.fetchPage(e)})),Object(v.a)({url:{}}),Object(m.a)()),N=o.response$=h.pipe(Object(d.a)((function(e){t.eventManager.onStart(e),t.historyManager.updateHistoryState(e),t._url=e.url})),Object(_.a)(M),Object(k.a)((function(e){var r;return(r=t.fetchManager).getResponse.apply(r,[M].concat(Rt(e)))})),Object(m.a)()),U=N.pipe(Object(y.a)((function(t){return!t.error}))),q=N.pipe(Object(y.a)((function(t){return!!t.error}))),D=U.pipe(Object(b.a)((function(e){return t.updateManager.responseToContent(e)})),Object(d.a)((function(e){return t.eventManager.emitReady(e)})),w(f),Object(d.a)((function(e){t.updateManager.updateDOM(e),t.historyManager.updateTitle(e),t.eventManager.emitAfter(e)})),Object(v.a)({cause:S.Init,url:t._url,scripts:[]}),w(f),Object(d.a)((function(e){return t.scrollManager.manageScrollPosition(e)})),Object(d.a)({error:function(e){return t.eventManager.emitDOMError(e)}}),Object(A.a)((function(t,e){return e})),Object(k.a)((function(e){return t.fadePromise.then((function(){return e}))})),Object(k.a)((function(e){return t.updateManager.reinsertScriptTags(e)})),Object(d.a)({error:function(e){return t.eventManager.emitError(e)}}),Object(A.a)((function(t,e){return e})),Object(d.a)((function(e){return t.eventManager.emitLoad(e)}))),H=q.pipe(Object(d.a)((function(e){return t.eventManager.emitNetworkError(e)}))),$=h.pipe(Object(k.a)((function(e){return Object(p.a)((function(){return t.animPromise})).pipe(Object(C.a)(N),Object(P.a)(e))})),Object(d.a)((function(e){return t.eventManager.emitProgress(e)})));D.subscribe(),j.subscribe(),H.subscribe(),$.subscribe(),t._initialized.resolve(Ht(t)),t.fireEvent("init")},t}return e=a,(r=[{key:"createRenderRoot",value:function(){return this}},{key:"_setLocation",value:function(t,e){var r=new URL(this._url.href);r[t]=e,this.assign(r.href)}},{key:"assign",value:function(t){this.reload$.next({cause:S.Push,url:new URL(t,this.href),cacheNr:++this.cacheNr})}},{key:"reload",value:function(){this.reload$.next({cause:S.Push,url:new URL(this.href),cacheNr:++this.cacheNr,replace:!0})}},{key:"replace",value:function(t){this.reload$.next({cause:S.Push,url:new URL(t,this.href),cacheNr:++this.cacheNr,replace:!0})}},{key:"compareContext",value:function(t,e){return t.url.href===e.url.href&&t.error===e.error&&t.cacheNr===e.cacheNr}},{key:"connectedCallback",value:function(){Nt($t(a.prototype),"connectedCallback",this).call(this),this.$.linkSelector=new h.a(this.linkSelector),this.$.prefetch=new h.a(this.prefetch),window.addEventListener("beforeunload",this.historyManager.updateHistoryScrollPosition),this.updateComplete.then(this.upgrade)}},{key:"disconnectedCallback",value:function(){window.removeEventListener("beforeunload",this.historyManager.updateHistoryScrollPosition)}},{key:"initialized",get:function(){return this._initialized}},{key:"hash",get:function(){return this._url.hash},set:function(t){this._setLocation("hash",t)}},{key:"host",get:function(){return this._url.host},set:function(t){this._setLocation("host",t)}},{key:"hostname",get:function(){return this._url.hostname},set:function(t){this._setLocation("hostname",t)}},{key:"href",get:function(){return this._url.href},set:function(t){this._setLocation("href",t)}},{key:"pathname",get:function(){return this._url.pathname},set:function(t){this._setLocation("pathname",t)}},{key:"port",get:function(){return this._url.port},set:function(t){this._setLocation("port",t)}},{key:"protocol",get:function(){return this._url.protocol},set:function(t){this._setLocation("protocol",t)}},{key:"search",get:function(){return this._url.search},set:function(t){this._setLocation("search",t)}},{key:"origin",get:function(){return this._url.origin},set:function(t){}},{key:"ancestorOrigins",get:function(){return window.location.ancestorOrigins},set:function(t){}},{key:"histId",get:function(){return this.id||this.tagName}}])&&xt(e.prototype,r),n&&xt(e,n),a}(Object(R.b)(R.a,[dt]));
/**
 * Copyright (c) 2020 Florian Klampfer <https://qwtel.com/>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 * @license
 * @nocompile
 */Bt([Object(n.e)({type:String,reflect:!0,attribute:"replace-selector"})],zt.prototype,"replaceSelector",void 0),Bt([Object(n.e)({type:String,reflect:!0,attribute:"link-selector"})],zt.prototype,"linkSelector",void 0),Bt([Object(n.e)({type:String,reflect:!0,attribute:"script-selector"})],zt.prototype,"scriptSelector",void 0),Bt([Object(n.e)({type:Boolean,reflect:!0,attribute:"prefetch"})],zt.prototype,"prefetch",void 0),Bt([Object(n.e)({type:Number,reflect:!0,attribute:"duration"})],zt.prototype,"duration",void 0),Bt([Object(n.e)({type:Boolean,reflect:!0,attribute:"hashchange"})],zt.prototype,"simulateHashChange",void 0),Bt([Object(n.e)({type:String})],zt.prototype,"baseURL",void 0),Bt([Object(n.e)()],zt.prototype,"assign",null),Bt([Object(n.e)()],zt.prototype,"reload",null),Bt([Object(n.e)()],zt.prototype,"replace",null),zt=Bt([Object(n.c)("hy-push-state")],zt)},357:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n=r(18),o=r(10),i=r(14);function c(t){return Object(i.b)((function(e,r){var i,u=null,a=!1;u=e.subscribe(new o.a(r,void 0,(function(o){i=Object(n.c)(t(o,c(t)(e))),u?(u.unsubscribe(),u=null,i.subscribe(r)):a=!0}))),a&&(u.unsubscribe(),u=null,i.subscribe(r))}))}},358:function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var n=r(2),o=r(6),i=r(18),c=r(315),u=r(312),a=r(10),s=r(48);function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(s.b)(t),l=Object(c.a)(t);return l.length?new o.a((function(t){var e=l.map((function(){return[]})),o=l.map((function(){return!1}));t.add((function(){e=o=null}));for(var c=function(c){Object(i.c)(l[c]).subscribe(new a.a(t,(function(i){if(e[c].push(i),e.every((function(t){return t.length}))){var u=e.map((function(t){return t.shift()}));t.next(r?r.apply(void 0,Object(n.f)(u)):u),e.some((function(t,e){return!t.length&&o[e]}))&&t.complete()}}),void 0,(function(){o[c]=!0,!e[c].length&&t.complete()})))},u=0;!t.closed&&u<l.length;u++)c(u);return function(){e=o=null}})):u.a}},359:function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var n=r(46),o=r(18),i=r(14),c=r(10);function u(t,e){return e?function(r){return r.pipe(u((function(r,i){return Object(o.c)(t(r,i)).pipe(Object(n.a)((function(t,n){return e(r,t,i,n)})))})))}:Object(i.b)((function(e,r){var n=0,i=null,u=!1;e.subscribe(new c.a(r,(function(e){i||(i=new c.a(r,void 0,void 0,(function(){i=null,u&&r.complete()})),Object(o.c)(t(e,n++)).subscribe(i))}),void 0,(function(){u=!0,!i&&r.complete()})))}))}}}]);