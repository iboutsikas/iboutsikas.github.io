/*!
 *  __  __                __                                     __
 * /\ \/\ \              /\ \             __                    /\ \
 * \ \ \_\ \   __  __    \_\ \      __   /\_\      __       ___ \ \ \/'\
 *  \ \  _  \ /\ \/\ \   /'_` \   /'__`\ \/\ \   /'__`\    /'___\\ \ , <
 *   \ \ \ \ \\ \ \_\ \ /\ \L\ \ /\  __/  \ \ \ /\ \L\.\_ /\ \__/ \ \ \\`\
 *    \ \_\ \_\\/`____ \\ \___,_\\ \____\ _\ \ \\ \__/.\_\\ \____\ \ \_\ \_\
 *     \/_/\/_/ `/___/> \\/__,_ / \/____//\ \_\ \\/__/\/_/ \/____/  \/_/\/_/
 *                 /\___/                \ \____/
 *                 \/__/                  \/___/
 *
 * Powered by Hydejack v9.0.0-alpha.4 <https://hydejack.com/>
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{286:function(e,t,r){"use strict";r.r(t);var n=r(288),o=r(137),i=r(342),a=r(358),c=r(291),u=r(59),l=r(352),s=r(292),f=r(343),p=r(353),h=r(333),y=r(338),b=r(290),d=r(136),m=r(13),v=r(314),O=r.n(v),g=r(320),j=r.n(g),w=r(308),S=r(306),E=r(359),k=r(340),P=r(341);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var R=function(e){var t=e.background,r=e.color,n=e.image,o=e.overlay;return"".concat(r).concat(n||t).concat(""===o?"overlay":"")};function I(e){var t=e.protocol,r=e.host,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;return t!==n.protocol||r!==n.host}var T=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=document.getElementById("_main"),n=document.getElementById("_pageStyle"),o=Array.from(document.styleSheets).find((function(e){return e.ownerNode===n}))||{};this.sidebar=document.getElementById("_sidebar"),this.fadeDuration=t,this.rules=o.cssRules||o.rules,this.prevHash=R(j()(r)),this.themeColorEl=document.querySelector('meta[name="theme-color"]')}var t,r,n;return t=e,(r=[{key:"fetchImage2",value:function(e){var t=e.background,r=e.image;if(t||!r||""===r||"none"===r)return Object(w.a)(null);var n=new URL(r,window.location);return Object(E.a)({method:"GET",responseType:"blob",url:n,crossDomain:I(n),headers:{Accept:"image/*"}}).pipe(Object(u.a)((function(e){var t=e.response;return URL.createObjectURL(t)})),Object(k.a)((function(){return Object(w.a)(r)})))}},{key:"fetchImage",value:function(e){var t=j()(e),r=t.background,n=t.color,o=t.image,i=t.overlay,a=R(t);return a===this.prevHash?Object(S.a)():this.fetchImage2(t).pipe(Object(u.a)((function(e){var c=document.createElement("div");return c.classList.add("sidebar-bg"),"none"!==o&&""===i&&c.classList.add("sidebar-overlay"),r?c.style.background=r:(c.style.backgroundColor=n,e&&(c.style.backgroundImage="url(".concat(e,")"),c.objectURL=e)),[c,t,a]})))}},{key:"updateStyle",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.color,n=void 0===r?"#4fb1ba":r,o=t.themeColor,i=void 0===o?"#193747":o;if(this.themeColorEl&&window.setTimeout((function(){return e.themeColorEl.content=i}),250),this.rules)try{var a=O()(n),c=O()(i),u=a.darken(.1),l=O.a.hsl(c.hue(),10,20),s=O.a.hsl(c.hue(),10,25),f=a.fade(.5);this.rules[0].style.textDecorationColor=f,this.rules[0].style.borderColor=f,this.rules[1].style.textDecorationColor=n,this.rules[1].style.borderColor=n,this.rules[2].style.outlineColor=n,this.rules[3].style.backgroundColor=n,this.rules[3].style.borderColor=n,this.rules[4].style.boxShadow="0 0 0 3px ".concat(a.fade(.5)),this.rules[5].style.backgroundColor=u,this.rules[5].style.borderColor=u,this.rules[6].style.backgroundColor=n,this.rules[6].style.borderColor=n,this.rules[7].style.backgroundColor=u,this.rules[7].style.borderColor=u,this.rules[8].cssRules[0].style.setProperty("--body-bg",l),this.rules[8].cssRules[0].style.setProperty("--border-color",s),this.rules[9].cssRules[0].style.setProperty("--body-bg",l),this.rules[9].cssRules[0].style.setProperty("--border-color",s),this.rules[this.rules.length-1].style.backgroundColor=n}catch(e){}}},{key:"fade",value:function(e,t){var r=A(e,1)[0],n=A(t,3),o=n[0],i=n[1],a=n[2];return r.parentNode.insertBefore(o,r.nextElementSibling),this.updateStyle(i),this.prevHash=a,Object(m.a)(o,[{opacity:0},{opacity:1}],{duration:this.fadeDuration,easing:"ease"}).pipe(Object(P.a)((function(){r.objectURL&&URL.revokeObjectURL(r.objectURL),r.parentNode.removeChild(r)})))}}])&&L(t.prototype,r),n&&L(t,n),e}(),q=r(289);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _,D=["title","projects"];function H(e,t,r,a){var c=e.pipe(Object(q.a)((function(e){var t=e.flipType;return!D.includes(t)})));return Object(o.a)(function(e,t,r,n){var o=n.animationMain,a=n.settings;if(!o)return e;var c=e.pipe(Object(q.a)((function(e){return"title"===e.flipType})),Object(h.a)((function(e){var t=e.anchor;if(!t)return Object(w.a)({});var r=document.createElement("h1");r.classList.add("page-title"),r.textContent=t.textContent,r.style.transformOrigin="left top";var n=o.querySelector(".page");if(!n)return Object(w.a)({});m.b.call(n),n.appendChild(r),o.style.position="fixed",o.style.opacity=1;var i=t.getBoundingClientRect(),c=r.getBoundingClientRect(),u=parseInt(getComputedStyle(t).fontSize,10),l=parseInt(getComputedStyle(r).fontSize,10),f=i.left-c.left,p=i.top-c.top,h=u/l;t.style.opacity=0;var y=[{transform:"translate3d(".concat(f,"px, ").concat(p,"px, 0) scale(").concat(h,")")},{transform:"translate3d(0, 0, 0) scale(1)"}];return Object(m.a)(r,y,a).pipe(Object(s.a)({complete:function(){o.style.position="absolute"}}))})));return e.pipe(Object(h.a)((function(e){var n=e.flipType;return Object(i.a)(t.pipe(Object(q.a)((function(){return"title"===n})),Object(u.a)((function(e){var t=x(e.replaceEls,1)[0].querySelector(".page-title, .post-title");return t&&(t.style.opacity=0),t}))),r,(function(e){return e})).pipe(Object(s.a)((function(e){e&&(e.style.opacity=1),o.style.opacity=0})),Object(P.a)((function(){o.style.opacity=0})))}))).subscribe(),c}(e,t,r,a),function(e,t,r,o){var a=o.animationMain,c=o.settings;if(!a)return e;var u=e.pipe(Object(q.a)((function(e){return"project"===e.flipType})),Object(h.a)((function(e){var t=e.anchor,r=t.querySelector(".flip-project-img");if(!t||!r)return Object(w.a)({});var n=a.querySelector(".page");if(!n)return Object(w.a)({});var o=t.parentNode.querySelector(".flip-project-title"),i=o&&o.textContent||"|",u=document.createElement("h1");u.classList.add("page-title"),u.style.opacity=0,u.textContent=i;var l=document.createElement("div");l.classList.add("post-date"),l.classList.add("heading"),l.style.opacity=0,l.textContent="|",m.b.call(n),n.appendChild(u),n.appendChild(l);var f=document.createElement("div");f.classList=r.classList,f.classList.remove("project-card-img"),r.parentNode.insertBefore(f,r),r.classList.add("lead"),r.style.transformOrigin="left top",n.appendChild(r),a.style.position="fixed",a.style.opacity=1;var p=f.getBoundingClientRect(),h=r.getBoundingClientRect(),y=p.left-h.left,b=p.top-h.top,d=p.width/h.width,v=[{transform:"translate3d(".concat(y,"px, ").concat(b,"px, 0) scale(").concat(d,")")},{transform:"translate3d(0, 0, 0) scale(1)"}];return Object(m.a)(r,v,c).pipe(Object(s.a)({complete:function(){a.style.position="absolute"}}))})));return e.pipe(Object(h.a)((function(e){var o=e.flipType;return t.pipe(Object(q.a)((function(){return"project"===o})),Object(h.a)((function(e){var t=U(e.replaceEls,1)[0].querySelector(".aspect-ratio");t&&(t.style.opacity=0);var o=t&&t.querySelector("img");return Object(i.a)(o?Object(n.a)(o,"load"):Object(w.a)({}),r).pipe(Object(s.a)((function(){return t&&(t.style.opacity=1),a.style.opacity=0})),Object(h.a)((function(){return null!=o?Object(m.a)(a,[{opacity:1},{opacity:0}],{duration:500}):Object(w.a)({})})),Object(P.a)((function(){return a.style.opacity=0})))})))}))).subscribe(),u}(e,t,r,a),c)}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||F(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){if("string"==typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?V(e,t):void 0}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}(_=regeneratorRuntime.mark((function e(){var t,v,O,g,j,w,S,E,k,P,A,C,L,R,I,q,x,M,U,N,_,D,F,V,W,Y,z,G,J;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=function(e){var t=$(e.replaceEls,1)[0],r=e.flipType;return Object(m.a)(t,v,O).pipe(Object(c.a)({main:t,flipType:r}))},P=function(e,r){var n=e.main;return Object(m.a)(n,t,O).pipe(Object(c.a)({main:n}))},k=function(e){return e&&e.classList?e.classList.contains("flip-title")?"title":e.classList.contains("flip-project")?"project":e.getAttribute&&e.getAttribute("data-flip"):null},E=function(e,t,r){var n=Object(m.f)(t);return n.querySelector(".nav-btn").addEventListener("click",r),e.appendChild(n),e.lastElementChild},S=function(e,t){var r=t.pathname,n=Object(m.f)("_error-template"),o=n.querySelector(".this-link");return o&&(o.href=r,o.textContent=r),e.appendChild(n),e.lastElementChild},w=function(e){var t=Object(m.f)("_loading-template");return e.appendChild(t),e.lastElementChild},j=function(e){var t=Object(m.f)("_animation-template");return e.parentNode.insertBefore(t,e),e.previousElementSibling},g=function(e){var t=Object(m.f)("_permalink-template"),r=t.querySelector(".permalink");requestAnimationFrame((function(){return r.href="#".concat(e.id),e.appendChild(t)}))},e.next=10,Promise.all([].concat(B("fetch"in window?[]:[r.e(2).then(r.bind(null,356))]),B("customElements"in window?[]:[Promise.all([r.e(12),r.e(13)]).then(r.bind(null,346))]),B("animate"in Element.prototype?[]:[r.e(11).then(r.t.bind(null,348,7))]),B("IntersectionObserver"in window?[]:[r.e(3).then(r.t.bind(null,349,7))]),B("scrollBehavior"in document.body.style?[]:[r.e(8).then(r.bind(null,350))])));case 10:return e.next=12,m.j;case 12:t=[{opacity:1},{opacity:0}],v=[{opacity:0,transform:"translateY(-3rem)"},{opacity:1,transform:"translateY(0)"}],O={duration:350,easing:"ease-out"},C=!!navigator.standalone||window.matchMedia("(display-mode: standalone)").matches,L=document.getElementsByTagName("hy-push-state")[0],R=document.getElementsByTagName("hy-drawer")[0],I=document.querySelector("#_navbar > .content > .nav-btn-bar"),q=document.querySelector("link[rel=canonical]"),x=document.querySelector("meta[name=description]"),M=j(L),U=w(I),C&&(E(I,"_back-template",(function(){return window.history.back()})),E(I,"_forward-template",(function(){return window.history.forward()}))),_=(N=function(e,t){return Object(n.a)(L,e).pipe(Object(u.a)((function(e){return e.detail})),t?Object(u.a)(t):function(e){return e},Object(l.a)())})("hy-push-state-start",(function(e){return Object.assign(e,{flipType:k(e.anchor)})})),D=N("hy-push-state-ready"),F=N("hy-push-state-after"),V=N("hy-push-state-progress"),W=N("hy-push-state-networkerror"),Y=_.pipe(Object(u.a)((function(e){return Object.assign(e,{main:document.getElementById("_main")})})),Object(s.a)((function(e){return e.main.style.pointerEvents="none"})),Object(f.a)((function(e){return P(e,R)})),Object(s.a)((function(e){var t=e.main;return m.b.call(t)})),Object(l.a)()),V.subscribe((function(){return U.style.display="block"})),D.pipe(Object(p.a)({replaceEls:[document.getElementById("_main")]})).subscribe((function(e){var t=$(e.replaceEls,1)[0];t.querySelectorAll("h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]").forEach(g),U.style.display="none";var r=t.querySelector("#markdown-toc");r&&r.classList.add("toc-hide")})),F.pipe(Object(p.a)({replaceEls:[document.getElementById("_main")],documentFragment:document})).subscribe((function(e){var t=$(e.replaceEls,1)[0],r=e.documentFragment,n=r.querySelector("link[rel=canonical]");q&&n&&(q.href=n.href);var o=r.querySelector("meta[name=description]");x&&o&&(x.content=o.content),t.querySelectorAll("li[id^='fn:']").forEach((function(e){return e.tabIndex=0})),t.querySelectorAll("a[href^='#fn:']").forEach((function(e){return e.addEventListener("click",(function(e){return document.getElementById(e.currentTarget.hash.substr(1)).focus()}))})),t.querySelectorAll("pre, table:not(.highlight), .katex-display, .break-layout").forEach((function(e){return e.addEventListener("touchstart",(function(t){return e.scrollLeft>0&&t.stopPropagation()}),{passive:!1})}))})),z=F.pipe(Object(h.a)(A),Object(l.a)()),G=H(_,D,Object(o.a)(z,W),{animationMain:M,settings:O}).pipe(Object(l.a)()),_.pipe(Object(h.a)((function(e){var t=Object(i.a)(Object(a.a)(350),Y,G).toPromise();return e.transitionUntil(t),t}))).subscribe(),Y.subscribe(),G.subscribe(),J=new T(2e3),F.pipe(Object(h.a)((function(e){var t=$(e.replaceEls,1)[0];return Object(i.a)(J.fetchImage(t),z,(function(e){return e})).pipe(Object(y.a)(_))})),Object(p.a)([document.querySelector(".sidebar-bg")]),Object(b.a)(),Object(d.a)((function(e){var t=$(e,2),r=t[0],n=t[1];return J.fade(r,n)}))).subscribe(),z.pipe(Object(p.a)({main:document.getElementById("_main")}),Object(s.a)((function(e){var t=e.main.querySelector("#markdown-toc");t&&(t.classList.remove("toc-hide"),t.classList.add("toc-show"))}))).subscribe(),W.pipe(Object(h.a)((function(e){var t=e.url;U.style.display="none";var r=document.getElementById("_main");return r.style.pointerEvents="",m.b.call(M.querySelector(".page")),m.b.call(r),S(r,t),Object(m.a)(r,v,O)}))).subscribe(),Promise.resolve().then(r.bind(null,331)),window._pushState=L;case 54:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(r,n){var o=_.apply(e,t);function i(e){W(o,r,n,i,a,"next",e)}function a(e){W(o,r,n,i,a,"throw",e)}i(void 0)}))})()},331:function(e,t,r){"use strict";r.r(t),r.d(t,"HyPushState",(function(){return Ge}));var n,o=r(307),i=r(305),a=r(288),c=r(137),u=r(337),l=r(355),s=r(339),f=r(59),p=r(289),h=r(292),y=r(353),b=r(290),d=r(352),m=r(291),v=r(335),O=r(333),g=r(336),j=r(354),w=r(340),S=r(338),E=r(334),k=r(9),P=r(344);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(e){return function(t){return t.pipe(Object(g.a)(e),Object(p.a)((function(e){return L(e,2)[1]})),Object(f.a)((function(e){return L(e,1)[0]})))}}function T(e,t){return k.a.create((function(r){var n=new AbortController,o=n.signal,i=null;return fetch(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{signal:o})).then((function(e){i=e,r.next(e),r.complete()})).catch((function(e){return r.error(e)})),function(){i||n.abort()}}))}function q(e){var t=e.protocol,r=e.host,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;return t!==n.protocol||r!==n.host}function x(){return window.pageYOffset||document.body.scrollTop}!function(e){e.Init="init",e.Hint="hint",e.Push="push",e.Pop="pop"}(n||(n={}));var M=function(e,t){return(e.matches||e.msMatchesSelector).call(e,t)};function U(e){return e&&""===e.target}function N(e,t){var r=e.url,n=e.anchor,o=e.event,i=o.metaKey,a=o.ctrlKey;return!i&&!a&&U(n)&&!q(r,t)}function _(e,t){var r=e.url;return U(e.anchor)&&!q(r,t)&&!function(e){var t=e.hash,r=e.origin,n=e.pathname,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;return""!==t&&r===o.origin&&n===o.pathname}(r,t)}function D(e){var t=e.cause,r=e.url,o=r.pathname,i=r.hash;return o===e.oldURL.pathname&&(t===n.Pop||t===n.Push&&""!==i)}var H=r(308),$=r(342),B=r(357);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){W(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var z=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=t}var t,r,n;return t=e,(r=[{key:"fetchPage",value:function(e){return T(e.url.href,{method:"GET",mode:"cors",headers:{Accept:"text/html"}}).pipe(Object(O.a)((function(e){return e.text()})),Object(f.a)((function(t){return V({},e,{response:t})})),Object(w.a)((function(t){return console.log(t),Object(H.a)(V({},e,{error:t,response:null}))})))}},{key:"selectPrefetch",value:function(e,t,r){return e.href===t.url.href&&null==t.error?Object(H.a)(t):r.pipe(Object(B.a)(1))}},{key:"getResponse",value:function(e,t,r){return Object($.a)(this.selectPrefetch(t.url,r,e),this.animPromise,(function(e){return V({},e,{},t)}))}},{key:"animPromise",get:function(){return this.parent.animPromise}}])&&Y(t.prototype,r),n&&Y(t,n),e}(),G=r(107),J=r(345),K=r(341);function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var re=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=t}var t,r,n;return t=e,(r=[{key:"removeScriptTags",value:function(e){var t=this,r=[];return e.forEach((function(e){return e.querySelectorAll(t.scriptSelector).forEach((function(e){var t=[e,e.previousSibling];e.parentNode.removeChild(e),r.push(t)}))})),r}},{key:"reinsertScriptTags",value:function(e){var t=this;if(!this.scriptSelector)return Promise.resolve(e);var r=e.scripts,n=document.write;return Object(G.a)(r).pipe(Object(J.a)((function(e){return t.insertScript(e)})),Object(w.a)((function(t){return Object(H.a)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){ee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{error:t}))})),Object(K.a)((function(){return document.write=n})),Object(m.a)(e)).toPromise()}},{key:"insertScript",value:function(e){var t=X(e,2),r=t[0],n=t[1];return document.write=function(){for(var e=document.createElement("div"),t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];e.innerHTML=r.join(),Array.from(e.childNodes).forEach((function(e){n.parentNode.insertBefore(e,n.nextSibling)}))},new Promise((function(e,t){""!==r.src?(r.addEventListener("load",e),r.addEventListener("error",t),n.parentNode.insertBefore(r,n.nextSibling)):(n.parentNode.insertBefore(r,n.nextSibling),e())}))}},{key:"scriptSelector",get:function(){return this.parent.scriptSelector}}])&&te(t.prototype,r),n&&te(t,n),e}();function ne(e,t){e.forEach((function(e){e.querySelectorAll("[href]").forEach(oe("href",t)),e.querySelectorAll("[src]").forEach(oe("src",t)),e.querySelectorAll("img[srcset]").forEach(function(e,t){return function(r){try{r.setAttribute(e,r.getAttribute(e).split(/\s*,\s*/).map((function(e){var r=e.split(/\s+/);return r[0]=new URL(r[0],t).href,r.join(" ")})).join(", "))}catch(e){}}}("srcset",t)),e.querySelectorAll("blockquote[cite]").forEach(oe("cite",t)),e.querySelectorAll("del[cite]").forEach(oe("cite",t)),e.querySelectorAll("ins[cite]").forEach(oe("cite",t)),e.querySelectorAll("q[cite]").forEach(oe("cite",t)),e.querySelectorAll("img[longdesc]").forEach(oe("longdesc",t)),e.querySelectorAll("frame[longdesc]").forEach(oe("longdesc",t)),e.querySelectorAll("iframe[longdesc]").forEach(oe("longdesc",t)),e.querySelectorAll("img[usemap]").forEach(oe("usemap",t)),e.querySelectorAll("input[usemap]").forEach(oe("usemap",t)),e.querySelectorAll("object[usemap]").forEach(oe("usemap",t)),e.querySelectorAll("form[action]").forEach(oe("action",t)),e.querySelectorAll("button[formaction]").forEach(oe("formaction",t)),e.querySelectorAll("input[formaction]").forEach(oe("formaction",t)),e.querySelectorAll("video[poster]").forEach(oe("poster",t)),e.querySelectorAll("object[data]").forEach(oe("data",t)),e.querySelectorAll("object[codebase]").forEach(oe("codebase",t)),e.querySelectorAll("object[archive]").forEach(function(e,t){return function(r){try{r.setAttribute(e,r.getAttribute(e).split(/[\s,]+/).map((function(e){return new URL(e,t).href})).join(", "))}catch(e){}}}("archive",t))}))}function oe(e,t){return function(r){try{r.setAttribute(e,new URL(r.getAttribute(e),t).href)}catch(e){}}}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){le(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function le(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var fe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=t,this.scriptManager=new re(t)}var t,r,n;return t=e,(r=[{key:"getTitle",value:function(e){return(e.querySelector("title")||{textContent:""}).textContent}},{key:"getReplaceElements",value:function(e){if(this.replaceSelector)return this.replaceSelector.split(",").map((function(t){return e.querySelector(t)}));if(this.el.id)return[e.getElementById(this.el.id)];var t=Array.from(document.getElementsByTagName(this.el.tagName)).indexOf(this.el);return[e.querySelectorAll(this.el.tagName)[t]]}},{key:"responseToContent",value:function(e){try{var t=e.response,r=(i=t,document.createRange().createContextualFragment(i)),n=this.getTitle(r),o=this.getReplaceElements(r);return ue({},e,{documentFragment:r,title:n,replaceEls:o,scripts:this.scriptSelector?this.scriptManager.removeScriptTags(o):[]})}catch(e){console.error(e)}var i}},{key:"replaceContentWithSelector",value:function(e){this.replaceSelector.split(",").map((function(e){return document.querySelector(e)})).forEach((function(t,r){return t.parentNode.replaceChild(e[r],t)}))}},{key:"replaceContentWholesale",value:function(e){var t=ie(e,1)[0];this.el.innerHTML=t.innerHTML}},{key:"replaceContent",value:function(e){this.replaceSelector?this.replaceContentWithSelector(e):this.replaceContentWholesale(e)}},{key:"updateDOM",value:function(e){try{var t=e.replaceEls;q(this.parent)&&ne(t,this.parent.href),this.replaceContent(t)}catch(t){throw ue({},e,{error:t})}}},{key:"reinsertScriptTags",value:function(e){return this.scriptManager.reinsertScriptTags(e)}},{key:"el",get:function(){return this.parent.el}},{key:"replaceSelector",get:function(){return this.parent.replaceSelector}},{key:"scriptSelector",get:function(){return this.parent.scriptSelector}}])&&se(t.prototype,r),n&&se(t,n),e}(),pe=r(136),he=r(135);function ye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var be=function(e){return Array.prototype.concat.apply([],e)},de=function(e){return{addedNodes:new Set(be(e.map((function(e){return Array.from(e.addedNodes)})))),removedNodes:new Set(be(e.map((function(e){return Array.from(e.removedNodes)}))))}},me=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,(r=[{key:"setupEventListeners",value:function(){var e=this,t=Object(a.a)(this.el,"click").pipe(Object(f.a)((function(t){var r=function(e,t){for(var r=e;null!=r;){if(M(r,t))return r;r=r.parentNode instanceof Element?r.parentNode:null}return null}(t.target,e.linkSelector);if(r instanceof HTMLAnchorElement)return[t,r]})),Object(p.a)((function(e){return!!e}))),r=function(e,t){return e.matches(t)?Object(H.a)(e):Object(G.a)(e.querySelectorAll(t))};return{hintEvent$:this.$.linkSelector.pipe(Object(O.a)((function(t){var n,o,i,u=new Map,l=function(e){u.has(e)||u.set(e,function(e){return Object(c.a)(Object(a.a)(e,"mouseenter",{passive:!0}),Object(a.a)(e,"touchstart",{passive:!0}),Object(a.a)(e,"focus",{passive:!0})).pipe(Object(f.a)((function(t){return[t,e]})))}(e))},s=function(e){u.delete(e)};return(o=e.el,i={childList:!0,subtree:!0},k.a.create((function(e){var t=new MutationObserver((function(t){return t.forEach((function(t){return e.next(t)}))}));return t.observe(o,i),function(){t.disconnect()}}))).pipe(Object(y.a)({addedNodes:[e.el],removedNodes:[]}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){var r=[];return t.pipe(Object(h.a)((function(e){return r.push(e)})),Object(P.a)(e),Object(f.a)((function(){return r})),Object(h.a)((function(){return r=[]})))}}(500),Object(f.a)(de),Object(O.a)((function(e){var n=e.addedNodes,o=e.removedNodes;return Object(G.a)(o).pipe(Object(p.a)((function(e){return e instanceof Element})),Object(pe.a)((function(e){return r(e,t)})),Object(h.a)(s)).subscribe(),Object(G.a)(n).pipe(Object(p.a)((function(e){return e instanceof Element})),Object(pe.a)((function(e){return r(e,t)})),Object(h.a)(l)).subscribe(),Object(G.a)(u.values()).pipe(Object(he.a)())})),(n=e.$.prefetch,function(e){return n.pipe(Object(O.a)((function(t){return t?e:E.a})))}))}))),pushEvent$:t}}}])&&ye(t.prototype,r),n&&ye(t,n),e}();function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ge(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function je(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var we=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=t}var t,r,n;return t=e,(r=[{key:"onStart",value:function(e){var t,r=this;this.animPromise=(t=this.duration,new Promise((function(e){return setTimeout(e,t)}))),this.parent.fireEvent("start",{detail:Oe({},e,{transitionUntil:function(e){r.animPromise=e}})})}},{key:"emitDOMError",value:function(e){var t=e.replaceElMissing,r=e.url;t?(window.history.back(),setTimeout((function(){return document.location.assign(r)}),100)):this.parent.fireEvent("error",{detail:e})}},{key:"emitNetworkError",value:function(e){this.parent.fireEvent("networkerror",{detail:e})}},{key:"emitError",value:function(e){this.parent.fireEvent("error",{detail:e})}},{key:"emitReady",value:function(e){this.parent.fireEvent("ready",{detail:e})}},{key:"emitAfter",value:function(e){this.parent.fireEvent("after",{detail:e})}},{key:"emitProgress",value:function(e){this.parent.fireEvent("progress",{detail:e})}},{key:"emitLoad",value:function(e){this.parent.fireEvent("load",{detail:e})}},{key:"animPromise",get:function(){return this.parent.animPromise},set:function(e){this.parent.animPromise=e}},{key:"duration",get:function(){return this.parent.duration}}])&&je(t.prototype,r),n&&je(t,n),e}();function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}window.HashChangeEvent=window.HashChangeEvent||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.oldURL,n=void 0===r?"":r,o=t.newURL,i=void 0===o?"":o,a=new CustomEvent(e);return a.oldURL=n,a.newURL=i,a};var Pe=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.updateHistoryScrollPosition=function(){if(!q(r.parent)){var e=r.assignScrollPosition(history.state||{});history.replaceState(e,document.title)}},this.parent=t}var t,r,o;return t=e,(r=[{key:"updateHistoryState",value:function(e){var t=e.cause,r=e.replace,o=e.url,i=o.href,a=o.hash,c=e.oldURL;if(!q(this.parent))switch(t){case n.Init:case n.Push:var u=this.parent.histId,l=location.href,s=a!==location.hash;if(r||i===location.href){var f=Object.assign(history.state||{},Ee({},u,{}));history.replaceState(f,document.title,i)}else history.pushState(Ee({},u,{}),document.title,i);this.parent.simulateHashChange&&s&&window.dispatchEvent(new HashChangeEvent("hashchange",{newURL:i,oldURL:l}));case n.Pop:var p=a!==c.hash;this.parent.simulateHashChange&&p&&window.dispatchEvent(new HashChangeEvent("hashchange",{newURL:i,oldURL:c.href}))}}},{key:"updateTitle",value:function(e){var t=e.cause,r=e.title;document.title=r,q(this.parent)||t!==n.Push||history.replaceState(history.state,r)}},{key:"updateHistoryStateHash",value:function(e){var t=e.cause,r=e.url;if(!q(this.parent)&&t===n.Push){var o=this.parent.histId;history.pushState(Ee({},o,{}),document.title,r.href)}}},{key:"assignScrollPosition",value:function(e){var t,r,n,o=this.parent.histId;return Object.assign(e,Ee({},o,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){Ee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e[o],{scrollTop:x(),scrollHeight:(t=document.documentElement,r=document.body,n="scrollHeight",t[n]||r[n])})))}}])&&ke(t.prototype,r),o&&ke(t,o),e}();function Ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ce=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=t,"scrollRestoration"in history&&(history.scrollRestoration="manual")}var t,r,o;return t=e,(r=[{key:"manageScrollPosition",value:function(e){var t=e.cause,r=e.url.hash;switch(t){case n.Push:this.scrollHashIntoView(r,{behavior:"smooth",block:"start",inline:"nearest"});break;case n.Pop:this.restoreScrollPosition();break;case n.Init:this.restoreScrollPositionOnReload()}}},{key:"elementFromHash",value:function(e){return document.getElementById(decodeURIComponent(e.substr(1)))}},{key:"scrollHashIntoView",value:function(e,t){if(e){var r=this.elementFromHash(e);r&&r.scrollIntoView(t)}else window.scroll(window.pageXOffset,0)}},{key:"restoreScrollPosition",value:function(){var e=this.parent.histId,t=(history.state&&history.state[e]||{}).scrollTop;null!=t&&window.scroll(window.pageXOffset,t)}},{key:"restoreScrollPositionOnReload",value:function(){var e=this,t=this.parent.histId;history.state&&history.state[t]&&0===x()?this.restoreScrollPosition():location.hash&&requestAnimationFrame((function(){return e.scrollHashIntoView(location.hash,!0)}))}}])&&Ae(t.prototype,r),o&&Ae(t,o),e}();function Le(e){return function(e){if(Array.isArray(e))return Te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Ie(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||Ie(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){if(e){if("string"==typeof e)return Te(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Te(e,t):void 0}}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Me(e,t,r){return t&&xe(e.prototype,t),r&&xe(e,r),e}function Ue(e,t,r){return(Ue="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Fe(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function Ne(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function De(e){return function(){var t,r=Fe(e);if(Be()){var n=Fe(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return He(this,t)}}function He(e,t){return!t||"object"!==Ve(t)&&"function"!=typeof t?$e(e):t}function $e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var We,Ye=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":Ve(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},ze=function(e){Ne(r,e);var t=De(r);function r(){var e;return qe(this,r),(e=t.apply(this,arguments)).$connected=new i.a,e}return Me(r,[{key:"connectedCallback",value:function(){Ue(Fe(r.prototype),"connectedCallback",this).call(this),this.$connected.next(!0)}},{key:"disconnectedCallback",value:function(){Ue(Fe(r.prototype),"disconnectedCallback",this).call(this),this.$connected.next(!1)}},{key:"firstUpdated",value:function(){this.firstUpdate=!0}},{key:"updated",value:function(e){if(!this.firstUpdate){var t,r=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Ie(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o,i=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(e.keys());try{for(r.s();!(t=r.n()).done;){var n=t.value;n in this.$&&this.$[n].next(this[n])}}catch(e){r.e(e)}finally{r.f()}}this.firstUpdate=!1}}]),r}(o.a),Ge=function(e){Ne(r,e);var t=De(r);function r(){var e;return qe(this,r),(e=t.apply(this,arguments)).el=$e(e),e.linkSelector="a[href]:not([data-no-push])",e.prefetch=!1,e.duration=0,e.simulateHashChange=!1,e.baseURL=window.location.href,e.$={},e.scrollManager=new Ce($e(e)),e.historyManager=new Pe($e(e)),e.fetchManager=new z($e(e)),e.updateManager=new fe($e(e)),e.eventManager=new we($e(e)),e._url=new URL(e.baseURL),e.reload$=new i.a,e.cacheNr=0,e.upgrade=function(){var t=e.setupEventListeners(),r=t.pushEvent$,o=t.hintEvent$,i={},s=r.pipe(Object(f.a)((function(t){var r=Re(t,2),o=r[0],i=r[1];return{cause:n.Push,url:new URL(i.href,e.href),anchor:i,event:o,cacheNr:e.cacheNr}})),Object(p.a)((function(t){return N(t,$e(e))})),Object(h.a)((function(t){t.event.preventDefault(),e.historyManager.updateHistoryScrollPosition()}))),E=Object(a.a)(window,"popstate").pipe(Object(p.a)((function(){return window.history.state&&window.history.state[e.histId]})),Object(f.a)((function(t){return{cause:n.Pop,url:new URL(window.location.href),cacheNr:e.cacheNr,event:t}}))),k=e.reload$,P=Object(c.a)(s,E,k).pipe(Object(y.a)({url:new URL(window.location.href)}),Object(b.a)(),Object(f.a)((function(e){var t=Re(e,2),r=t[0],n=t[1];return Object.assign(n,{oldURL:r.url})})),Object(d.a)()),A=P.pipe(Object(p.a)((function(e){return!D(e)})),Object(d.a)()),C=P.pipe(Object(p.a)((function(e){return D(e)})),Object(p.a)((function(){return history.state&&history.state[e.histId]})),Object(h.a)((function(t){e.historyManager.updateHistoryStateHash(t),e.scrollManager.manageScrollPosition(t)}))),L=Object(u.a)((function(){return Object(c.a)(A.pipe(Object(m.a)(!0)),i.response$.pipe(Object(m.a)(!1)))})).pipe(Object(y.a)(!1)),R=o.pipe(I(L.pipe(Object(f.a)((function(e){return!e})))),Object(f.a)((function(t){var r=Re(t,2),o=r[0],i=r[1];return{cause:n.Hint,url:new URL(i.href,e.href),anchor:i,event:o,cacheNr:e.cacheNr}})),Object(p.a)((function(t){return _(t,$e(e))}))),T=Object(c.a)(R,A).pipe(Object(v.a)((function(t,r){return e.compareContext(t,r)})),Object(O.a)((function(t){return e.fetchManager.fetchPage(t)})),Object(y.a)({url:{}}),Object(d.a)()),q=i.response$=A.pipe(Object(h.a)((function(t){e.eventManager.onStart(t),e.historyManager.updateHistoryState(t),e._url=t.url})),Object(g.a)(T),Object(O.a)((function(t){var r;return(r=e.fetchManager).getResponse.apply(r,[T].concat(Le(t)))})),Object(d.a)()),x=q.pipe(Object(p.a)((function(e){return!e.error}))),M=q.pipe(Object(p.a)((function(e){return e.error}))),U=x.pipe(Object(f.a)((function(t){return e.updateManager.responseToContent(t)})),Object(h.a)((function(t){return e.eventManager.emitReady(t)})),Object(j.a)(l.a),Object(h.a)((function(t){e.updateManager.updateDOM(t),e.historyManager.updateTitle(t),e.eventManager.emitAfter(t)})),Object(y.a)({cause:n.Init,url:e._url,scripts:[]}),Object(h.a)((function(t){return e.scrollManager.manageScrollPosition(t)})),Object(h.a)({error:function(t){return e.eventManager.emitDOMError(t)}}),Object(w.a)((function(e,t){return t})),Object(O.a)((function(t){return e.updateManager.reinsertScriptTags(t)})),Object(h.a)({error:function(t){return e.eventManager.emitError(t)}}),Object(w.a)((function(e,t){return t})),Object(h.a)((function(t){return e.eventManager.emitLoad(t)}))),H=M.pipe(Object(h.a)((function(t){return e.eventManager.emitNetworkError(t)}))),$=A.pipe(Object(O.a)((function(t){return Object(u.a)((function(){return e.animPromise})).pipe(Object(S.a)(q),Object(m.a)(t))})),Object(h.a)((function(t){return e.eventManager.emitProgress(t)})));U.subscribe(),C.subscribe(),H.subscribe(),$.subscribe(),e.fireEvent("init")},e}return Me(r,[{key:"createRenderRoot",value:function(){return this}},{key:"_setLocation",value:function(e,t){var r=new URL(this._url.href);r[e]=t,this.assign(r.href)}},{key:"assign",value:function(e){this.reload$.next({cause:n.Push,url:new URL(e,this.href),cacheNr:++this.cacheNr})}},{key:"reload",value:function(){this.reload$.next({cause:n.Push,url:new URL(this.href),cacheNr:++this.cacheNr,replace:!0})}},{key:"replace",value:function(e){this.reload$.next({cause:n.Push,url:new URL(e,this.href),cacheNr:++this.cacheNr,replace:!0})}},{key:"fireEvent",value:function(e,t){this.dispatchEvent(new CustomEvent(e,t)),this.dispatchEvent(new CustomEvent("hy-push-state-".concat(e),t))}},{key:"compareContext",value:function(e,t){return e.url.href===t.url.href&&e.error===t.error&&e.cacheNr===t.cacheNr}},{key:"connectedCallback",value:function(){Ue(Fe(r.prototype),"connectedCallback",this).call(this),this.$.linkSelector=new s.a(this.linkSelector),this.$.prefetch=new s.a(this.prefetch),window.addEventListener("beforeunload",this.historyManager.updateHistoryScrollPosition),this.updateComplete.then(this.upgrade)}},{key:"disconnectedCallback",value:function(){window.removeEventListener("beforeunload",this.historyManager.updateHistoryScrollPosition)}},{key:"hash",get:function(){return this._url.hash},set:function(e){this._setLocation("hash",e)}},{key:"host",get:function(){return this._url.host},set:function(e){this._setLocation("host",e)}},{key:"hostname",get:function(){return this._url.hostname},set:function(e){this._setLocation("hostname",e)}},{key:"href",get:function(){return this._url.href},set:function(e){this._setLocation("href",e)}},{key:"pathname",get:function(){return this._url.pathname},set:function(e){this._setLocation("pathname",e)}},{key:"port",get:function(){return this._url.port},set:function(e){this._setLocation("port",e)}},{key:"protocol",get:function(){return this._url.protocol},set:function(e){this._setLocation("protocol",e)}},{key:"search",get:function(){return this._url.search},set:function(e){this._setLocation("search",e)}},{key:"origin",get:function(){return this._url.origin},set:function(e){}},{key:"ancestorOrigins",get:function(){return window.location.ancestorOrigins},set:function(e){}},{key:"histId",get:function(){return this.id||this.tagName}}]),r}((We=ze,[me].forEach((function(e){Object.getOwnPropertyNames(e.prototype).forEach((function(t){We.prototype[t]=e.prototype[t]}))})),We));
/**
 * Copyright (c) 2019 Florian Klampfer <https://qwtel.com/>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 * @license
 * @nocompile
 */Ye([Object(o.e)({type:String,reflect:!0,attribute:"replace-selector"})],Ge.prototype,"replaceSelector",void 0),Ye([Object(o.e)({type:String,reflect:!0,attribute:"link-selector"})],Ge.prototype,"linkSelector",void 0),Ye([Object(o.e)({type:String,reflect:!0,attribute:"script-selector"})],Ge.prototype,"scriptSelector",void 0),Ye([Object(o.e)({type:Boolean,reflect:!0,attribute:"prefetch"})],Ge.prototype,"prefetch",void 0),Ye([Object(o.e)({type:Number,reflect:!0,attribute:"duration"})],Ge.prototype,"duration",void 0),Ye([Object(o.e)({type:Boolean,reflect:!0,attribute:"hashchange"})],Ge.prototype,"simulateHashChange",void 0),Ye([Object(o.e)({type:String})],Ge.prototype,"baseURL",void 0),Ye([Object(o.e)()],Ge.prototype,"assign",null),Ye([Object(o.e)()],Ge.prototype,"reload",null),Ye([Object(o.e)()],Ge.prototype,"replace",null),Ge=Ye([Object(o.c)("hy-push-state")],Ge)}}]);