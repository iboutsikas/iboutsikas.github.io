{"version":3,"sources":["webpack:///../src/common.ts","webpack:///../src/event-listeners.ts","webpack:///../src/event.ts","webpack:///../src/fetch.ts","webpack:///../src/history.ts","webpack:///../src/index.ts","webpack:///../src/rewrite-urls.ts","webpack:///../src/script.ts","webpack:///../src/scroll.ts","webpack:///../src/update.ts","webpack:///./node_modules/color-convert/conversions.js","webpack:///./node_modules/color-convert/index.js","webpack:///./node_modules/color-convert/route.js","webpack:///./node_modules/color-name/index.js","webpack:///./node_modules/color-string/index.js","webpack:///./node_modules/color/index.js","webpack:///./node_modules/elem-dataset/index.js","webpack:///./node_modules/is-arrayish/index.js","webpack:///./node_modules/simple-swizzle/index.js"],"names":["cssKeywords","require","reverseKeywords","key","hasOwnProperty","convert","module","exports","rgb","channels","labels","hsl","hsv","hwb","cmyk","xyz","lab","lch","hex","keyword","ansi16","ansi256","hcg","apple","gray","model","Error","length","Object","defineProperty","value","r","g","b","min","Math","max","delta","h","s","l","rdif","gdif","bdif","v","diff","diffc","c","w","m","y","k","comparativeDistance","x","pow","reversed","currentClosestDistance","Infinity","currentClosestKeyword","distance","z","a","t1","t2","t3","val","i","smin","lmin","sv","hi","floor","f","p","q","t","vmin","sl","wh","bl","ratio","n","y2","x2","z2","hr","atan2","PI","sqrt","cos","sin","args","arguments","round","ansi","color","mult","rem","integer","string","toString","toUpperCase","substring","match","colorString","split","map","char","join","parseInt","chroma","grayscale","hue","pure","mg","conversions","route","models","keys","wrapRaw","fn","wrappedFn","undefined","Array","prototype","slice","call","conversion","wrapRounded","result","len","forEach","fromModel","routes","routeModels","toModel","raw","buildGraph","graph","parent","deriveBFS","queue","current","pop","adjacents","adjacent","node","unshift","link","from","to","wrapConversion","path","cur","colorNames","swizzle","reverseNames","name","cs","get","prefix","toLowerCase","abbr","rgba","per","hexAlpha","i2","parseFloat","clamp","alpha","isNaN","hexDouble","percent","hsla","hwba","num","str","_slice","skippedModels","hashedModelKeys","sort","limiters","Color","obj","valpha","newArr","zeroArray","splice","indexOf","hashedKeys","JSON","stringify","push","limit","freeze","toJSON","places","self","concat","percentString","array","object","unitArray","unitObject","roundToPlace","red","getset","maxfn","green","blue","saturationl","lightness","saturationv","white","wblack","cyan","magenta","yellow","black","rgbNumber","luminosity","lum","chan","contrast","color2","lum1","lum2","level","contrastRatio","isDark","yiq","isLight","negate","lighten","darken","saturate","desaturate","whiten","blacken","fade","opaquer","rotate","degrees","mix","mixinColor","weight","color1","w1","w2","newAlpha","assertArray","roundTo","Number","toFixed","channel","modifier","isArray","arr","useNative","elem","document","createElement","setAttribute","Boolean","dataset","aB","nativeDataset","element","attributes","getter","setter","removeAttribute","j","attribute","prop","replace","u","charAt","enumerable","bind","set","isArrayish","Function","getOwnPropertyDescriptor","constructor","results","arg","wrap"],"mappings":"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","file":"LEGACY-vendors~push-state-hydejack-9.0.0-beta.1.js","sourcesContent":["export { applyMixins, subscribeWhen, unsubscribeWhen, filterWhen, bufferDebounceTime, fetchRx, fragmentFromString, createMutationObservable, getScrollHeight, getScrollLeft, getScrollTop, matches, matchesAncestors } from '@hydecorp/component';\nexport var Cause;\n(function (Cause) {\n    Cause[\"Init\"] = \"init\";\n    Cause[\"Hint\"] = \"hint\";\n    Cause[\"Push\"] = \"push\";\n    Cause[\"Pop\"] = \"pop\";\n})(Cause || (Cause = {}));\n;\nexport function isExternal({ protocol, host }, location = window.location) {\n    return protocol !== location.protocol || host !== location.host;\n}\nexport function isHash({ hash, origin, pathname }, location = window.location) {\n    return hash !== \"\" && origin === location.origin && pathname === location.pathname;\n}\nexport function shouldLoadAnchor(anchor) {\n    return anchor && anchor.target === \"\";\n}\nexport function isPushEvent({ url, anchor, event: { metaKey, ctrlKey } }, location) {\n    return (!metaKey &&\n        !ctrlKey &&\n        shouldLoadAnchor(anchor) &&\n        !isExternal(url, location));\n}\nexport function isHintEvent({ url, anchor }, location) {\n    return (shouldLoadAnchor(anchor) &&\n        !isExternal(url, location) &&\n        !isHash(url, location));\n}\nexport function isHashChange({ cause, url: { pathname, hash }, oldURL: { pathname: prevPathname }, }) {\n    return pathname === prevPathname && (cause === Cause.Pop || (cause === Cause.Push && hash !== ''));\n}\n//# sourceMappingURL=common.js.map","import { from, fromEvent, of, merge } from \"rxjs\";\nimport { matchesAncestors, createMutationObservable, subscribeWhen, bufferDebounceTime } from \"./common\";\nimport { map, filter, startWith, tap, flatMap, mergeAll, switchMap } from \"rxjs/operators\";\nconst flat = (x) => Array.prototype.concat.apply([], x);\nconst combineRecords = (records) => ({\n    addedNodes: new Set(flat(records.map(r => Array.from(r.addedNodes)))),\n    removedNodes: new Set(flat(records.map(r => Array.from(r.removedNodes)))),\n});\nexport class EventListenersMixin {\n    // LINKS 2\n    setupEventListeners() {\n        const pushEvent$ = fromEvent(this.el, \"click\").pipe(map(event => {\n            const anchor = matchesAncestors(event.target, this.linkSelector);\n            if (anchor instanceof HTMLAnchorElement) {\n                return [event, anchor];\n            }\n        }), filter(x => !!x));\n        const matchOrQuery = (el, selector) => {\n            if (el.matches(selector)) {\n                return of(el);\n            }\n            else {\n                return from(el.querySelectorAll(selector));\n            }\n        };\n        const addEventListeners = (link) => {\n            return merge(fromEvent(link, \"mouseenter\", { passive: true }), fromEvent(link, \"touchstart\", { passive: true }), fromEvent(link, \"focus\", { passive: true })).pipe(map(event => [event, link]));\n        };\n        const hintEvent$ = this.$.linkSelector.pipe(switchMap((linkSelector) => {\n            const links = new Map();\n            const addLink = (link) => {\n                if (!links.has(link)) {\n                    links.set(link, addEventListeners(link));\n                }\n            };\n            const removeLink = (link) => {\n                links.delete(link);\n            };\n            return createMutationObservable(this.el, { childList: true, subtree: true }).pipe(startWith({ addedNodes: [this.el], removedNodes: [] }), bufferDebounceTime(500), map(combineRecords), switchMap(({ addedNodes, removedNodes }) => {\n                from(removedNodes).pipe(filter(el => el instanceof Element), flatMap((el) => matchOrQuery(el, linkSelector)), tap(removeLink)).subscribe();\n                from(addedNodes).pipe(filter(el => el instanceof Element), flatMap((el) => matchOrQuery(el, linkSelector)), tap(addLink)).subscribe();\n                return from(links.values()).pipe(mergeAll());\n            }), subscribeWhen(this.$.prefetch));\n        }));\n        return { hintEvent$, pushEvent$ };\n    }\n}\n//# sourceMappingURL=event-listeners.js.map","const timeout = (t) => new Promise(r => setTimeout(r, t));\nexport class EventManager {\n    constructor(parent) {\n        this.parent = parent;\n    }\n    get animPromise() { return this.parent.animPromise; }\n    set animPromise(p) { this.parent.animPromise = p; }\n    get duration() { return this.parent.duration; }\n    ;\n    onStart(context) {\n        this.animPromise = timeout(this.duration);\n        const transitionUntil = (promise) => {\n            this.animPromise = Promise.all([this.animPromise, promise]);\n        };\n        this.parent.fireEvent('start', { detail: { ...context, transitionUntil } });\n    }\n    emitDOMError(context) {\n        const { replaceElMissing, url } = context;\n        if (replaceElMissing) {\n            if (process.env.DEBUG) {\n                console.warn(`Couldn't find one or more element in the document at '${location}'. Opening the link directly.`);\n            }\n            // To open the link directly, we first pop one entry off the browser history.\n            // We have to do this because (some) browsers won't handle the back button correctly otherwise.\n            // We then wait for a short time and change the document's location.\n            // TODO: If we didn't call `pushState` optimistically we wouldn't have to do this.\n            window.history.back();\n            setTimeout(() => document.location.assign(url), 100);\n            // If it's a different error, throw the generic `error` event.\n        }\n        else {\n            if (process.env.DEBUG)\n                console.error(context);\n            this.parent.fireEvent('error', { detail: context });\n        }\n    }\n    emitNetworkError(context) {\n        if (process.env.DEBUG)\n            console.error(context);\n        this.parent.fireEvent('networkerror', { detail: context });\n    }\n    emitError(context) {\n        if (process.env.DEBUG)\n            console.error(context);\n        this.parent.fireEvent('error', { detail: context });\n    }\n    emitReady(context) {\n        this.parent.fireEvent('ready', { detail: context });\n    }\n    emitAfter(context) {\n        this.parent.fireEvent('after', { detail: context });\n    }\n    emitProgress(context) {\n        this.parent.fireEvent('progress', { detail: context });\n    }\n    emitLoad(context) {\n        this.parent.fireEvent('load', { detail: context });\n    }\n}\n;\n//# sourceMappingURL=event.js.map","import { of, zip } from \"rxjs\";\nimport { catchError, map, take, switchMap } from \"rxjs/operators\";\nimport { fetchRx } from \"./common\";\n;\nexport class FetchManager {\n    constructor(parent) {\n        this.parent = parent;\n    }\n    get animPromise() {\n        return this.parent.animPromise;\n    }\n    fetchPage(context) {\n        return fetchRx(context.url.href, {\n            method: \"GET\",\n            mode: 'cors',\n            headers: { Accept: \"text/html\" },\n        })\n            .pipe(switchMap(response => response.text()), map(response => ({ ...context, response })), catchError(error => of({ ...context, error, response: null })));\n    }\n    selectPrefetch({ href }, latestPrefetch, prefetch$) {\n        return href === latestPrefetch.url.href // && latestPrefetch.error == null\n            ? of(latestPrefetch)\n            : prefetch$.pipe(take(1));\n    }\n    // Returns an observable that emits exactly one notice, which contains the response.\n    // It will not emit until an (optional) page transition animation completes.\n    getResponse(prefetch$, context, latestPrefetch) {\n        return zip(this.selectPrefetch(context.url, latestPrefetch, prefetch$), this.animPromise).pipe(map(([prefetch]) => ({ ...prefetch, ...context })));\n    }\n}\n;\n//# sourceMappingURL=fetch.js.map","import { isExternal, getScrollTop, getScrollHeight, Cause } from \"./common\";\n// @ts-ignore\nwindow.HashChangeEvent = window.HashChangeEvent || function HashChangeEvent(type, { oldURL = '', newURL = '' } = {}) {\n    const e = new CustomEvent(type);\n    // @ts-ignore\n    e.oldURL = oldURL;\n    // @ts-ignore\n    e.newURL = newURL;\n    return e;\n};\nfunction simHashChange(newURL, oldURL) {\n    if (newURL.hash !== oldURL.hash) {\n        window.dispatchEvent(new HashChangeEvent('hashchange', { newURL: newURL.href, oldURL: oldURL.href }));\n    }\n}\nexport class HistoryManager {\n    constructor(parent) {\n        this.updateHistoryScrollPosition = () => {\n            if (isExternal(this.parent))\n                return;\n            const state = this.assignScrollPosition(history.state || {});\n            history.replaceState(state, document.title);\n        };\n        this.parent = parent;\n    }\n    updateHistoryState({ cause, replace, url, oldURL }) {\n        if (isExternal(this.parent))\n            return;\n        switch (cause) {\n            case Cause.Init:\n            case Cause.Push: {\n                const { histId } = this.parent;\n                if (replace || url.href === location.href) {\n                    const state = { ...history.state, [histId]: {} };\n                    history.replaceState(state, document.title, url.href);\n                }\n                else {\n                    history.pushState({ [histId]: {} }, document.title, url.href);\n                }\n                // no break\n            }\n            case Cause.Pop: {\n                if (this.parent.simulateHashChange)\n                    simHashChange(url, oldURL);\n                break;\n            }\n            default: {\n                // if (process.env.DEBUG) console.warn(`Type '${cause}' not reconginzed`);\n                break;\n            }\n        }\n    }\n    updateTitle({ cause, title }) {\n        document.title = title;\n        if (!isExternal(this.parent) && cause === Cause.Push) {\n            history.replaceState(history.state, title);\n        }\n    }\n    assignScrollPosition(state) {\n        const { histId } = this.parent;\n        return {\n            ...state,\n            [histId]: {\n                ...state[histId],\n                scrollTop: getScrollTop(),\n                scrollHeight: getScrollHeight(),\n            },\n        };\n    }\n}\n;\n//# sourceMappingURL=history.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Copyright (c) 2020 Florian Klampfer <https://qwtel.com/>\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @license\n * @nocompile\n */\nimport { property, customElement } from 'lit-element';\nimport { Subject, BehaviorSubject, merge, defer, fromEvent, animationFrameScheduler } from \"rxjs\";\nimport { map, filter, tap, takeUntil, startWith, pairwise, share, mapTo, switchMap, distinctUntilChanged, withLatestFrom, catchError, observeOn } from 'rxjs/operators';\nimport { RxLitElement } from '@hydecorp/component';\nimport { applyMixins, Cause, isPushEvent, isHashChange, isHintEvent, filterWhen } from './common';\nimport { FetchManager } from './fetch';\nimport { UpdateManager } from './update';\nimport { EventListenersMixin } from './event-listeners';\nimport { EventManager } from './event';\nimport { HistoryManager } from './history';\nimport { ScrollManager } from './scroll';\nlet HyPushState = /** @class */ (() => {\n    let HyPushState = class HyPushState extends applyMixins(RxLitElement, [EventListenersMixin]) {\n        constructor() {\n            super(...arguments);\n            this.el = this;\n            this.linkSelector = \"a[href]:not([data-no-push])\";\n            this.prefetch = false;\n            this.duration = 0;\n            // @property({ type: Boolean, reflect: true, attribute: 'simulate-load' }) simulateLoad: boolean = false;\n            this.simulateHashChange = false;\n            this.baseURL = window.location.href;\n            this.$ = {};\n            this.scrollManager = new ScrollManager(this);\n            this.historyManager = new HistoryManager(this);\n            this.fetchManager = new FetchManager(this);\n            this.updateManager = new UpdateManager(this);\n            this.eventManager = new EventManager(this);\n            this._url = new URL(this.baseURL);\n            this.reload$ = new Subject();\n            // Methods\n            this.cacheNr = 0;\n            this.upgrade = () => {\n                const { pushEvent$, hintEvent$ } = this.setupEventListeners();\n                const deferred = {};\n                const push$ = pushEvent$.pipe(\n                // takeUntil(this.subjects.disconnect),\n                map(([event, anchor]) => ({\n                    cause: Cause.Push,\n                    url: new URL(anchor.href, this.href),\n                    anchor,\n                    event,\n                    cacheNr: this.cacheNr,\n                })), filter(x => isPushEvent(x, this)), tap(({ event }) => {\n                    event.preventDefault();\n                    this.historyManager.updateHistoryScrollPosition();\n                }));\n                const pop$ = fromEvent(window, \"popstate\").pipe(\n                // takeUntil(this.subjects.disconnect),\n                filter(() => window.history.state && window.history.state[this.histId]), map(event => ({\n                    cause: Cause.Pop,\n                    url: new URL(window.location.href),\n                    cacheNr: this.cacheNr,\n                    event,\n                })));\n                const reload$ = this.reload$; // .pipe(takeUntil(this.subjects.disconnect));\n                const merged$ = merge(push$, pop$, reload$).pipe(startWith({ url: new URL(window.location.href) }), pairwise(), map(([old, current]) => Object.assign(current, { oldURL: old.url })), share());\n                const page$ = merged$.pipe(filter(p => !isHashChange(p)), share());\n                const hash$ = merged$.pipe(filter(p => isHashChange(p)), filter(() => history.state && history.state[this.histId]), observeOn(animationFrameScheduler), tap(context => {\n                    this.historyManager.updateHistoryState(context);\n                    this.scrollManager.manageScrollPosition(context);\n                }));\n                const pauser$ = defer(() => merge(page$.pipe(mapTo(true)), deferred.response$.pipe(mapTo(false)))).pipe(startWith(false));\n                const hint$ = hintEvent$.pipe(\n                // takeUntil(this.subjects.disconnect),\n                filterWhen(pauser$.pipe(map(x => !x))), map(([event, anchor]) => ({\n                    cause: Cause.Hint,\n                    url: new URL(anchor.href, this.href),\n                    anchor,\n                    event,\n                    cacheNr: this.cacheNr,\n                })), filter(x => isHintEvent(x, this)));\n                const prefetchResponse$ = merge(hint$, page$).pipe(distinctUntilChanged((x, y) => this.compareContext(x, y)), switchMap(x => this.fetchManager.fetchPage(x)), startWith({ url: {} }), share());\n                const response$ = deferred.response$ = page$.pipe(tap(context => {\n                    this.eventManager.onStart(context);\n                    this.historyManager.updateHistoryState(context);\n                    this._url = context.url;\n                }), withLatestFrom(prefetchResponse$), switchMap((args) => this.fetchManager.getResponse(prefetchResponse$, ...args)), share());\n                const responseOk$ = response$.pipe(filter(({ error }) => !error));\n                const responseError$ = response$.pipe(filter(({ error }) => !!error));\n                const main$ = responseOk$.pipe(map(context => this.updateManager.responseToContent(context)), tap(context => this.eventManager.emitReady(context)), observeOn(animationFrameScheduler), tap(context => {\n                    this.updateManager.updateDOM(context);\n                    this.historyManager.updateTitle(context);\n                    this.eventManager.emitAfter(context);\n                }), startWith({\n                    cause: Cause.Init,\n                    url: this._url,\n                    scripts: [],\n                }), observeOn(animationFrameScheduler), tap(context => this.scrollManager.manageScrollPosition(context)), tap({ error: e => this.eventManager.emitDOMError(e) }), catchError((_, c) => c), switchMap(x => this.updateManager.reinsertScriptTags(x)), tap({ error: e => this.eventManager.emitError(e) }), catchError((_, c) => c), tap(context => this.eventManager.emitLoad(context)));\n                const error$ = responseError$.pipe(tap(e => this.eventManager.emitNetworkError(e)));\n                const progress$ = page$.pipe(switchMap(context => defer(() => this.animPromise).pipe(takeUntil(response$), mapTo(context))), tap(context => this.eventManager.emitProgress(context)));\n                // Subscriptions\n                main$.subscribe();\n                hash$.subscribe();\n                error$.subscribe();\n                progress$.subscribe();\n                this.fireEvent('init');\n            };\n        }\n        createRenderRoot() { return this; }\n        _setLocation(key, value) {\n            const u = new URL(this._url.href);\n            u[key] = value;\n            this.assign(u.href);\n        }\n        // Implement Location\n        get hash() { return this._url.hash; }\n        get host() { return this._url.host; }\n        get hostname() { return this._url.hostname; }\n        get href() { return this._url.href; }\n        get pathname() { return this._url.pathname; }\n        get port() { return this._url.port; }\n        get protocol() { return this._url.protocol; }\n        get search() { return this._url.search; }\n        get origin() { return this._url.origin; }\n        get ancestorOrigins() { return window.location.ancestorOrigins; }\n        set hash(value) { this._setLocation('hash', value); }\n        set host(value) { this._setLocation('host', value); }\n        set hostname(value) { this._setLocation('hostname', value); }\n        set href(value) { this._setLocation('href', value); }\n        set pathname(value) { this._setLocation('pathname', value); }\n        set port(value) { this._setLocation('port', value); }\n        set protocol(value) { this._setLocation('protocol', value); }\n        set search(value) { this._setLocation('search', value); }\n        // Silent read-only\n        set origin(_) { }\n        set ancestorOrigins(_) { }\n        get histId() { return this.id || this.tagName; }\n        assign(url) {\n            this.reload$.next({\n                cause: Cause.Push,\n                url: new URL(url, this.href),\n                cacheNr: ++this.cacheNr,\n            });\n        }\n        reload() {\n            this.reload$.next({\n                cause: Cause.Push,\n                url: new URL(this.href),\n                cacheNr: ++this.cacheNr,\n                replace: true,\n            });\n        }\n        replace(url) {\n            this.reload$.next({\n                cause: Cause.Push,\n                url: new URL(url, this.href),\n                cacheNr: ++this.cacheNr,\n                replace: true,\n            });\n        }\n        fireEvent(name, eventInitDict) {\n            this.dispatchEvent(new CustomEvent(name, eventInitDict));\n            this.dispatchEvent(new CustomEvent(`hy-push-state-${name}`, eventInitDict));\n        }\n        compareContext(p, q) {\n            return p.url.href === q.url.href && p.error === q.error && p.cacheNr === q.cacheNr;\n        }\n        connectedCallback() {\n            super.connectedCallback();\n            this.$.linkSelector = new BehaviorSubject(this.linkSelector);\n            this.$.prefetch = new BehaviorSubject(this.prefetch);\n            // Remember the current scroll position (for F5/reloads).\n            window.addEventListener(\"beforeunload\", this.historyManager.updateHistoryScrollPosition);\n            this.updateComplete.then(this.upgrade);\n        }\n        disconnectedCallback() {\n            window.removeEventListener(\"beforeunload\", this.historyManager.updateHistoryScrollPosition);\n        }\n    };\n    __decorate([\n        property({ type: String, reflect: true, attribute: 'replace-selector' })\n    ], HyPushState.prototype, \"replaceSelector\", void 0);\n    __decorate([\n        property({ type: String, reflect: true, attribute: 'link-selector' })\n    ], HyPushState.prototype, \"linkSelector\", void 0);\n    __decorate([\n        property({ type: String, reflect: true, attribute: 'script-selector' })\n    ], HyPushState.prototype, \"scriptSelector\", void 0);\n    __decorate([\n        property({ type: Boolean, reflect: true, attribute: 'prefetch' })\n    ], HyPushState.prototype, \"prefetch\", void 0);\n    __decorate([\n        property({ type: Number, reflect: true, attribute: 'duration' })\n    ], HyPushState.prototype, \"duration\", void 0);\n    __decorate([\n        property({ type: Boolean, reflect: true, attribute: 'hashchange' })\n    ], HyPushState.prototype, \"simulateHashChange\", void 0);\n    __decorate([\n        property({ type: String })\n    ], HyPushState.prototype, \"baseURL\", void 0);\n    __decorate([\n        property()\n    ], HyPushState.prototype, \"assign\", null);\n    __decorate([\n        property()\n    ], HyPushState.prototype, \"reload\", null);\n    __decorate([\n        property()\n    ], HyPushState.prototype, \"replace\", null);\n    HyPushState = __decorate([\n        customElement('hy-push-state')\n    ], HyPushState);\n    return HyPushState;\n})();\nexport { HyPushState };\n//# sourceMappingURL=index.js.map","// When fetching documents from an external source,\n// relative URLs will be resolved relative to the current `window.location`.\n// We can rewrite URL to absolute urls\nexport function rewriteURLs(replaceEls, base) {\n    replaceEls.forEach((el) => {\n        el.querySelectorAll(\"[href]\").forEach(rewriteURL(\"href\", base));\n        el.querySelectorAll(\"[src]\").forEach(rewriteURL(\"src\", base));\n        el.querySelectorAll(\"img[srcset]\").forEach(rewriteURLSrcSet(\"srcset\", base));\n        el.querySelectorAll(\"blockquote[cite]\").forEach(rewriteURL(\"cite\", base));\n        el.querySelectorAll(\"del[cite]\").forEach(rewriteURL(\"cite\", base));\n        el.querySelectorAll(\"ins[cite]\").forEach(rewriteURL(\"cite\", base));\n        el.querySelectorAll(\"q[cite]\").forEach(rewriteURL(\"cite\", base));\n        el.querySelectorAll(\"img[longdesc]\").forEach(rewriteURL(\"longdesc\", base));\n        el.querySelectorAll(\"frame[longdesc]\").forEach(rewriteURL(\"longdesc\", base));\n        el.querySelectorAll(\"iframe[longdesc]\").forEach(rewriteURL(\"longdesc\", base));\n        el.querySelectorAll(\"img[usemap]\").forEach(rewriteURL(\"usemap\", base));\n        el.querySelectorAll(\"input[usemap]\").forEach(rewriteURL(\"usemap\", base));\n        el.querySelectorAll(\"object[usemap]\").forEach(rewriteURL(\"usemap\", base));\n        el.querySelectorAll(\"form[action]\").forEach(rewriteURL(\"action\", base));\n        el.querySelectorAll(\"button[formaction]\").forEach(rewriteURL(\"formaction\", base));\n        el.querySelectorAll(\"input[formaction]\").forEach(rewriteURL(\"formaction\", base));\n        el.querySelectorAll(\"video[poster]\").forEach(rewriteURL(\"poster\", base));\n        el.querySelectorAll(\"object[data]\").forEach(rewriteURL(\"data\", base));\n        el.querySelectorAll(\"object[codebase]\").forEach(rewriteURL(\"codebase\", base));\n        el.querySelectorAll(\"object[archive]\").forEach(rewriteURLList(\"archive\", base));\n        /* el.querySelectorAll(\"command[icon]\").forEach(this.rewriteURL(\"icon\")); */ // obsolte\n    });\n}\nfunction rewriteURL(attr, base) {\n    return (el) => {\n        try {\n            el.setAttribute(attr, new URL(el.getAttribute(attr), base).href);\n        }\n        catch (e) {\n            // if (process.env.DEBUG) console.warn(`Couldn't rewrite URL in attribute ${attr} on element`, el);\n        }\n    };\n}\nfunction rewriteURLSrcSet(attr, base) {\n    return (el) => {\n        try {\n            el.setAttribute(attr, el\n                .getAttribute(attr)\n                .split(/\\s*,\\s*/)\n                .map(str => {\n                const pair = str.split(/\\s+/);\n                pair[0] = new URL(pair[0], base).href;\n                return pair.join(\" \");\n            })\n                .join(\", \"));\n        }\n        catch (e) {\n            // if (process.env.DEBUG) console.warn(`Couldn't rewrite URLs in attribute ${attr} on element`, el);\n        }\n    };\n}\nfunction rewriteURLList(attr, base) {\n    return (el) => {\n        try {\n            el.setAttribute(attr, el\n                .getAttribute(attr)\n                .split(/[\\s,]+/)\n                .map(str => new URL(str, base).href)\n                .join(\", \"));\n        }\n        catch (e) {\n            // if (process.env.DEBUG) console.warn(`Couldn't rewrite URLs in attribute ${attr} on element`, el);\n        }\n    };\n}\n//# sourceMappingURL=rewrite-urls.js.map","import { of, from } from \"rxjs\";\nimport { concatMap, catchError, finalize, mapTo } from \"rxjs/operators\";\nexport class ScriptManager {\n    constructor(parent) {\n        this.parent = parent;\n    }\n    get scriptSelector() { return this.parent.scriptSelector; }\n    removeScriptTags(replaceEls) {\n        const scripts = [];\n        replaceEls.forEach(el => {\n            return el.querySelectorAll(this.scriptSelector).forEach((script) => {\n                const pair = [script, script.previousSibling];\n                script.parentNode.removeChild(script);\n                scripts.push(pair);\n            });\n        });\n        return scripts;\n    }\n    reinsertScriptTags(context) {\n        if (!this.scriptSelector)\n            return Promise.resolve(context);\n        const { scripts } = context;\n        const originalWrite = document.write;\n        return from(scripts).pipe(concatMap(script => this.insertScript(script)), catchError(error => of({ ...context, error })), finalize(() => (document.write = originalWrite)), mapTo(context))\n            .toPromise();\n    }\n    insertScript([script, ref]) {\n        document.write = (...args) => {\n            const temp = document.createElement(\"div\");\n            temp.innerHTML = args.join();\n            Array.from(temp.childNodes).forEach(node => {\n                ref.parentNode.insertBefore(node, ref.nextSibling);\n            });\n        };\n        return new Promise((resolve, reject) => {\n            if (script.src !== \"\") {\n                script.addEventListener(\"load\", resolve);\n                script.addEventListener(\"error\", reject);\n                ref.parentNode.insertBefore(script, ref.nextSibling);\n            }\n            else {\n                ref.parentNode.insertBefore(script, ref.nextSibling);\n                resolve();\n            }\n        });\n    }\n}\n//# sourceMappingURL=script.js.map","import { getScrollTop, Cause } from \"./common\";\nexport class ScrollManager {\n    constructor(parent) {\n        this.parent = parent;\n        if ('scrollRestoration' in history) {\n            history.scrollRestoration = 'manual';\n        }\n    }\n    manageScrollPosition({ cause, url: { hash } }) {\n        switch (cause) {\n            case Cause.Push: {\n                // FIXME: make configurable\n                this.scrollHashIntoView(hash, { behavior: \"smooth\", block: \"start\", inline: \"nearest\" });\n                break;\n            }\n            case Cause.Pop: {\n                this.restoreScrollPosition();\n                break;\n            }\n            case Cause.Init: {\n                this.restoreScrollPositionOnReload();\n                break;\n            }\n        }\n    }\n    elementFromHash(hash) {\n        return document.getElementById(decodeURIComponent(hash.substr(1)));\n    }\n    scrollHashIntoView(hash, options) {\n        if (hash) {\n            const el = this.elementFromHash(hash);\n            if (el)\n                el.scrollIntoView(options);\n        }\n        else {\n            window.scroll(window.pageXOffset, 0);\n        }\n    }\n    restoreScrollPosition() {\n        const { histId } = this.parent;\n        const { scrollTop } = (history.state && history.state[histId]) || {};\n        if (scrollTop != null) {\n            window.scroll(window.pageXOffset, scrollTop);\n        }\n    }\n    restoreScrollPositionOnReload() {\n        const { histId } = this.parent;\n        const scrollState = history.state && history.state[histId];\n        // FIXME: As far as I can tell there is no better way of figuring out if the user has scrolled\n        //        and it doesn't work on hash links b/c the scroll position is going to be non-null by definition\n        if (scrollState && getScrollTop() === 0) {\n            this.restoreScrollPosition();\n        }\n        else if (location.hash) {\n            requestAnimationFrame(() => this.scrollHashIntoView(location.hash, true));\n        }\n    }\n}\n;\n//# sourceMappingURL=scroll.js.map","import { isExternal, fragmentFromString } from \"./common\";\nimport { ScriptManager } from \"./script\";\nimport { rewriteURLs } from \"./rewrite-urls\";\n;\nexport class UpdateManager {\n    constructor(parent) {\n        this.parent = parent;\n        this.scriptManager = new ScriptManager(parent);\n    }\n    get el() { return this.parent.el; }\n    get replaceSelector() { return this.parent.replaceSelector; }\n    get scriptSelector() { return this.parent.scriptSelector; }\n    // Extracts the title of the page\n    getTitle(fragment) {\n        return (fragment.querySelector(\"title\") || { textContent: '' }).textContent;\n    }\n    // Extracts the elements to be replaced\n    getReplaceElements(fragment) {\n        if (this.replaceSelector) {\n            return this.replaceSelector.split(',').map(sel => fragment.querySelector(sel));\n        }\n        else if (this.el.id) {\n            return [fragment.getElementById(this.el.id)];\n        }\n        else {\n            const index = Array.from(document.getElementsByTagName(this.el.tagName)).indexOf(this.el);\n            return [fragment.querySelectorAll(this.el.tagName)[index]];\n        }\n    }\n    // Takes the response string and turns it into document fragments\n    // that can be inserted into the DOM.\n    responseToContent(context) {\n        try {\n            const { response } = context;\n            const documentFragment = fragmentFromString(response);\n            const title = this.getTitle(documentFragment);\n            const replaceEls = this.getReplaceElements(documentFragment);\n            // if (replaceEls.some(x => x == null)) {\n            //   throw { ...context, replaceElMissing: true };\n            // }\n            const scripts = this.scriptSelector\n                ? this.scriptManager.removeScriptTags(replaceEls)\n                : [];\n            return { ...context, documentFragment, title, replaceEls, scripts };\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    // Replaces the old elments with the new one, one-by-one.\n    replaceContentWithSelector(elements) {\n        this.replaceSelector\n            .split(',')\n            .map(sel => document.querySelector(sel))\n            .forEach((oldElement, i) => oldElement.parentNode.replaceChild(elements[i], oldElement));\n    }\n    // When no `relaceIds` are set, replace the entire content of the component (slow).\n    replaceContentWholesale([el]) {\n        this.el.innerHTML = el.innerHTML;\n    }\n    // TODO: doc\n    replaceContent(replaceEls) {\n        if (this.replaceSelector) {\n            this.replaceContentWithSelector(replaceEls);\n        }\n        else {\n            this.replaceContentWholesale(replaceEls);\n        }\n    }\n    // TODO: doc\n    updateDOM(context) {\n        try {\n            const { replaceEls } = context;\n            if (isExternal(this.parent))\n                rewriteURLs(replaceEls, this.parent.href);\n            this.replaceContent(replaceEls);\n        }\n        catch (error) {\n            throw { ...context, error };\n        }\n    }\n    reinsertScriptTags(context) {\n        return this.scriptManager.reinsertScriptTags(context);\n    }\n}\n//# sourceMappingURL=update.js.map","/* MIT license */\nvar cssKeywords = require('color-name');\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nvar reverseKeywords = {};\nfor (var key in cssKeywords) {\n\tif (cssKeywords.hasOwnProperty(key)) {\n\t\treverseKeywords[cssKeywords[key]] = key;\n\t}\n}\n\nvar convert = module.exports = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\n// hide .channels and .labels properties\nfor (var model in convert) {\n\tif (convert.hasOwnProperty(model)) {\n\t\tif (!('channels' in convert[model])) {\n\t\t\tthrow new Error('missing channels property: ' + model);\n\t\t}\n\n\t\tif (!('labels' in convert[model])) {\n\t\t\tthrow new Error('missing channel labels property: ' + model);\n\t\t}\n\n\t\tif (convert[model].labels.length !== convert[model].channels) {\n\t\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t\t}\n\n\t\tvar channels = convert[model].channels;\n\t\tvar labels = convert[model].labels;\n\t\tdelete convert[model].channels;\n\t\tdelete convert[model].labels;\n\t\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\t\tObject.defineProperty(convert[model], 'labels', {value: labels});\n\t}\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar min = Math.min(r, g, b);\n\tvar max = Math.max(r, g, b);\n\tvar delta = max - min;\n\tvar h;\n\tvar s;\n\tvar l;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tl = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tvar rdif;\n\tvar gdif;\n\tvar bdif;\n\tvar h;\n\tvar s;\n\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar v = Math.max(r, g, b);\n\tvar diff = v - Math.min(r, g, b);\n\tvar diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = s = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tvar r = rgb[0];\n\tvar g = rgb[1];\n\tvar b = rgb[2];\n\tvar h = convert.rgb.hsl(rgb)[0];\n\tvar w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar c;\n\tvar m;\n\tvar y;\n\tvar k;\n\n\tk = Math.min(1 - r, 1 - g, 1 - b);\n\tc = (1 - r - k) / (1 - k) || 0;\n\tm = (1 - g - k) / (1 - k) || 0;\n\ty = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\n/**\n * See https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n * */\nfunction comparativeDistance(x, y) {\n\treturn (\n\t\tMath.pow(x[0] - y[0], 2) +\n\t\tMath.pow(x[1] - y[1], 2) +\n\t\tMath.pow(x[2] - y[2], 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tvar reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tvar currentClosestDistance = Infinity;\n\tvar currentClosestKeyword;\n\n\tfor (var keyword in cssKeywords) {\n\t\tif (cssKeywords.hasOwnProperty(keyword)) {\n\t\t\tvar value = cssKeywords[keyword];\n\n\t\t\t// Compute comparative distance\n\t\t\tvar distance = comparativeDistance(rgb, value);\n\n\t\t\t// Check if its less, if so set as closest\n\t\t\tif (distance < currentClosestDistance) {\n\t\t\t\tcurrentClosestDistance = distance;\n\t\t\t\tcurrentClosestKeyword = keyword;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn cssKeywords[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\n\t// assume sRGB\n\tr = r > 0.04045 ? Math.pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? Math.pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? Math.pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\n\n\tvar x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tvar y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tvar z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tvar xyz = convert.rgb.xyz(rgb);\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tvar h = hsl[0] / 360;\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar t1;\n\tvar t2;\n\tvar t3;\n\tvar rgb;\n\tvar val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tt1 = 2 * l - t2;\n\n\trgb = [0, 0, 0];\n\tfor (var i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tvar h = hsl[0];\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar smin = s;\n\tvar lmin = Math.max(l, 0.01);\n\tvar sv;\n\tvar v;\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tv = (l + s) / 2;\n\tsv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tvar h = hsv[0] / 60;\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar hi = Math.floor(h) % 6;\n\n\tvar f = h - Math.floor(h);\n\tvar p = 255 * v * (1 - s);\n\tvar q = 255 * v * (1 - (s * f));\n\tvar t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tvar h = hsv[0];\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar vmin = Math.max(v, 0.01);\n\tvar lmin;\n\tvar sl;\n\tvar l;\n\n\tl = (2 - s) * v;\n\tlmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tvar h = hwb[0] / 360;\n\tvar wh = hwb[1] / 100;\n\tvar bl = hwb[2] / 100;\n\tvar ratio = wh + bl;\n\tvar i;\n\tvar v;\n\tvar f;\n\tvar n;\n\n\t// wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\ti = Math.floor(6 * h);\n\tv = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tn = wh + f * (v - wh); // linear interpolation\n\n\tvar r;\n\tvar g;\n\tvar b;\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v; g = n; b = wh; break;\n\t\tcase 1: r = n; g = v; b = wh; break;\n\t\tcase 2: r = wh; g = v; b = n; break;\n\t\tcase 3: r = wh; g = n; b = v; break;\n\t\tcase 4: r = n; g = wh; b = v; break;\n\t\tcase 5: r = v; g = wh; b = n; break;\n\t}\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tvar c = cmyk[0] / 100;\n\tvar m = cmyk[1] / 100;\n\tvar y = cmyk[2] / 100;\n\tvar k = cmyk[3] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = 1 - Math.min(1, c * (1 - k) + k);\n\tg = 1 - Math.min(1, m * (1 - k) + k);\n\tb = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tvar x = xyz[0] / 100;\n\tvar y = xyz[1] / 100;\n\tvar z = xyz[2] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * Math.pow(r, 1.0 / 2.4)) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * Math.pow(g, 1.0 / 2.4)) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * Math.pow(b, 1.0 / 2.4)) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar x;\n\tvar y;\n\tvar z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tvar y2 = Math.pow(y, 3);\n\tvar x2 = Math.pow(x, 3);\n\tvar z2 = Math.pow(z, 3);\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar hr;\n\tvar h;\n\tvar c;\n\n\thr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tc = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tvar l = lch[0];\n\tvar c = lch[1];\n\tvar h = lch[2];\n\tvar a;\n\tvar b;\n\tvar hr;\n\n\thr = h / 360 * 2 * Math.PI;\n\ta = c * Math.cos(hr);\n\tb = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\tvar value = 1 in arguments ? arguments[1] : convert.rgb.hsv(args)[2]; // hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tvar ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\n\t// we use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tvar ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tvar color = args % 10;\n\n\t// handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tvar mult = (~~(args > 50) + 1) * 0.5;\n\tvar r = ((color & 1) * mult) * 255;\n\tvar g = (((color >> 1) & 1) * mult) * 255;\n\tvar b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// handle greyscale\n\tif (args >= 232) {\n\t\tvar c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tvar rem;\n\tvar r = Math.floor(args / 36) / 5 * 255;\n\tvar g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tvar b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tvar integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tvar match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tvar colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(function (char) {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tvar integer = parseInt(colorString, 16);\n\tvar r = (integer >> 16) & 0xFF;\n\tvar g = (integer >> 8) & 0xFF;\n\tvar b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar max = Math.max(Math.max(r, g), b);\n\tvar min = Math.min(Math.min(r, g), b);\n\tvar chroma = (max - min);\n\tvar grayscale;\n\tvar hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma + 4;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar c = 1;\n\tvar f = 0;\n\n\tif (l < 0.5) {\n\t\tc = 2.0 * s * l;\n\t} else {\n\t\tc = 2.0 * s * (1.0 - l);\n\t}\n\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\n\tvar c = s * v;\n\tvar f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tvar h = hcg[0] / 360;\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tvar pure = [0, 0, 0];\n\tvar hi = (h % 1) * 6;\n\tvar v = hi % 1;\n\tvar w = 1 - v;\n\tvar mg = 0;\n\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar v = c + g * (1.0 - c);\n\tvar f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar l = g * (1.0 - c) + 0.5 * c;\n\tvar s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\tvar v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tvar w = hwb[1] / 100;\n\tvar b = hwb[2] / 100;\n\tvar v = 1 - b;\n\tvar c = v - w;\n\tvar g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = convert.gray.hsv = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tvar val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tvar integer = (val << 16) + (val << 8) + val;\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tvar val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n","var conversions = require('./conversions');\nvar route = require('./route');\n\nvar convert = {};\n\nvar models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\tvar result = fn(args);\n\n\t\t// we're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (var len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(function (fromModel) {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tvar routes = route(fromModel);\n\tvar routeModels = Object.keys(routes);\n\n\trouteModels.forEach(function (toModel) {\n\t\tvar fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nmodule.exports = convert;\n","var conversions = require('./conversions');\n\n/*\n\tthis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tvar graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tvar models = Object.keys(conversions);\n\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tvar graph = buildGraph();\n\tvar queue = [fromModel]; // unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tvar current = queue.pop();\n\t\tvar adjacents = Object.keys(conversions[current]);\n\n\t\tfor (var len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tvar adjacent = adjacents[i];\n\t\t\tvar node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tvar path = [graph[toModel].parent, toModel];\n\tvar fn = conversions[graph[toModel].parent][toModel];\n\n\tvar cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nmodule.exports = function (fromModel) {\n\tvar graph = deriveBFS(fromModel);\n\tvar conversion = {};\n\n\tvar models = Object.keys(graph);\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tvar toModel = models[i];\n\t\tvar node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// no possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\n","'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","/* MIT license */\nvar colorNames = require('color-name');\nvar swizzle = require('simple-swizzle');\n\nvar reverseNames = {};\n\n// create a list of reverse color names\nfor (var name in colorNames) {\n\tif (colorNames.hasOwnProperty(name)) {\n\t\treverseNames[colorNames[name]] = name;\n\t}\n}\n\nvar cs = module.exports = {\n\tto: {},\n\tget: {}\n};\n\ncs.get = function (string) {\n\tvar prefix = string.substring(0, 3).toLowerCase();\n\tvar val;\n\tvar model;\n\tswitch (prefix) {\n\t\tcase 'hsl':\n\t\t\tval = cs.get.hsl(string);\n\t\t\tmodel = 'hsl';\n\t\t\tbreak;\n\t\tcase 'hwb':\n\t\t\tval = cs.get.hwb(string);\n\t\t\tmodel = 'hwb';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tval = cs.get.rgb(string);\n\t\t\tmodel = 'rgb';\n\t\t\tbreak;\n\t}\n\n\tif (!val) {\n\t\treturn null;\n\t}\n\n\treturn {model: model, value: val};\n};\n\ncs.get.rgb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar abbr = /^#([a-f0-9]{3,4})$/i;\n\tvar hex = /^#([a-f0-9]{6})([a-f0-9]{2})?$/i;\n\tvar rgba = /^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar keyword = /(\\D+)/;\n\n\tvar rgb = [0, 0, 0, 1];\n\tvar match;\n\tvar i;\n\tvar hexAlpha;\n\n\tif (match = string.match(hex)) {\n\t\thexAlpha = match[2];\n\t\tmatch = match[1];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\t// https://jsperf.com/slice-vs-substr-vs-substring-methods-long-string/19\n\t\t\tvar i2 = i * 2;\n\t\t\trgb[i] = parseInt(match.slice(i2, i2 + 2), 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = Math.round((parseInt(hexAlpha, 16) / 255) * 100) / 100;\n\t\t}\n\t} else if (match = string.match(abbr)) {\n\t\tmatch = match[1];\n\t\thexAlpha = match[3];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i] + match[i], 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = Math.round((parseInt(hexAlpha + hexAlpha, 16) / 255) * 100) / 100;\n\t\t}\n\t} else if (match = string.match(rgba)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i + 1], 0);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\trgb[3] = parseFloat(match[4]);\n\t\t}\n\t} else if (match = string.match(per)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\trgb[3] = parseFloat(match[4]);\n\t\t}\n\t} else if (match = string.match(keyword)) {\n\t\tif (match[1] === 'transparent') {\n\t\t\treturn [0, 0, 0, 0];\n\t\t}\n\n\t\trgb = colorNames[match[1]];\n\n\t\tif (!rgb) {\n\t\t\treturn null;\n\t\t}\n\n\t\trgb[3] = 1;\n\n\t\treturn rgb;\n\t} else {\n\t\treturn null;\n\t}\n\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] = clamp(rgb[i], 0, 255);\n\t}\n\trgb[3] = clamp(rgb[3], 0, 1);\n\n\treturn rgb;\n};\n\ncs.get.hsl = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hsl = /^hsla?\\(\\s*([+-]?(?:\\d*\\.)?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar match = string.match(hsl);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = (parseFloat(match[1]) + 360) % 360;\n\t\tvar s = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar l = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\n\t\treturn [h, s, l, a];\n\t}\n\n\treturn null;\n};\n\ncs.get.hwb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hwb = /^hwb\\(\\s*([+-]?\\d*[\\.]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar match = string.match(hwb);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\tvar w = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar b = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\t\treturn [h, w, b, a];\n\t}\n\n\treturn null;\n};\n\ncs.to.hex = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn (\n\t\t'#' +\n\t\thexDouble(rgba[0]) +\n\t\thexDouble(rgba[1]) +\n\t\thexDouble(rgba[2]) +\n\t\t(rgba[3] < 1\n\t\t\t? (hexDouble(Math.round(rgba[3] * 255)))\n\t\t\t: '')\n\t);\n};\n\ncs.to.rgb = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ')'\n\t\t: 'rgba(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ', ' + rgba[3] + ')';\n};\n\ncs.to.rgb.percent = function () {\n\tvar rgba = swizzle(arguments);\n\n\tvar r = Math.round(rgba[0] / 255 * 100);\n\tvar g = Math.round(rgba[1] / 255 * 100);\n\tvar b = Math.round(rgba[2] / 255 * 100);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + r + '%, ' + g + '%, ' + b + '%)'\n\t\t: 'rgba(' + r + '%, ' + g + '%, ' + b + '%, ' + rgba[3] + ')';\n};\n\ncs.to.hsl = function () {\n\tvar hsla = swizzle(arguments);\n\treturn hsla.length < 4 || hsla[3] === 1\n\t\t? 'hsl(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%)'\n\t\t: 'hsla(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%, ' + hsla[3] + ')';\n};\n\n// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\ncs.to.hwb = function () {\n\tvar hwba = swizzle(arguments);\n\n\tvar a = '';\n\tif (hwba.length >= 4 && hwba[3] !== 1) {\n\t\ta = ', ' + hwba[3];\n\t}\n\n\treturn 'hwb(' + hwba[0] + ', ' + hwba[1] + '%, ' + hwba[2] + '%' + a + ')';\n};\n\ncs.to.keyword = function (rgb) {\n\treturn reverseNames[rgb.slice(0, 3)];\n};\n\n// helpers\nfunction clamp(num, min, max) {\n\treturn Math.min(Math.max(min, num), max);\n}\n\nfunction hexDouble(num) {\n\tvar str = num.toString(16).toUpperCase();\n\treturn (str.length < 2) ? '0' + str : str;\n}\n","'use strict';\n\nvar colorString = require('color-string');\nvar convert = require('color-convert');\n\nvar _slice = [].slice;\n\nvar skippedModels = [\n\t// to be honest, I don't really feel like keyword belongs in color convert, but eh.\n\t'keyword',\n\n\t// gray conflicts with some method names, and has its own method defined.\n\t'gray',\n\n\t// shouldn't really be in color-convert either...\n\t'hex'\n];\n\nvar hashedModelKeys = {};\nObject.keys(convert).forEach(function (model) {\n\thashedModelKeys[_slice.call(convert[model].labels).sort().join('')] = model;\n});\n\nvar limiters = {};\n\nfunction Color(obj, model) {\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(obj, model);\n\t}\n\n\tif (model && model in skippedModels) {\n\t\tmodel = null;\n\t}\n\n\tif (model && !(model in convert)) {\n\t\tthrow new Error('Unknown model: ' + model);\n\t}\n\n\tvar i;\n\tvar channels;\n\n\tif (obj == null) { // eslint-disable-line no-eq-null,eqeqeq\n\t\tthis.model = 'rgb';\n\t\tthis.color = [0, 0, 0];\n\t\tthis.valpha = 1;\n\t} else if (obj instanceof Color) {\n\t\tthis.model = obj.model;\n\t\tthis.color = obj.color.slice();\n\t\tthis.valpha = obj.valpha;\n\t} else if (typeof obj === 'string') {\n\t\tvar result = colorString.get(obj);\n\t\tif (result === null) {\n\t\t\tthrow new Error('Unable to parse color from string: ' + obj);\n\t\t}\n\n\t\tthis.model = result.model;\n\t\tchannels = convert[this.model].channels;\n\t\tthis.color = result.value.slice(0, channels);\n\t\tthis.valpha = typeof result.value[channels] === 'number' ? result.value[channels] : 1;\n\t} else if (obj.length) {\n\t\tthis.model = model || 'rgb';\n\t\tchannels = convert[this.model].channels;\n\t\tvar newArr = _slice.call(obj, 0, channels);\n\t\tthis.color = zeroArray(newArr, channels);\n\t\tthis.valpha = typeof obj[channels] === 'number' ? obj[channels] : 1;\n\t} else if (typeof obj === 'number') {\n\t\t// this is always RGB - can be converted later on.\n\t\tobj &= 0xFFFFFF;\n\t\tthis.model = 'rgb';\n\t\tthis.color = [\n\t\t\t(obj >> 16) & 0xFF,\n\t\t\t(obj >> 8) & 0xFF,\n\t\t\tobj & 0xFF\n\t\t];\n\t\tthis.valpha = 1;\n\t} else {\n\t\tthis.valpha = 1;\n\n\t\tvar keys = Object.keys(obj);\n\t\tif ('alpha' in obj) {\n\t\t\tkeys.splice(keys.indexOf('alpha'), 1);\n\t\t\tthis.valpha = typeof obj.alpha === 'number' ? obj.alpha : 0;\n\t\t}\n\n\t\tvar hashedKeys = keys.sort().join('');\n\t\tif (!(hashedKeys in hashedModelKeys)) {\n\t\t\tthrow new Error('Unable to parse color from object: ' + JSON.stringify(obj));\n\t\t}\n\n\t\tthis.model = hashedModelKeys[hashedKeys];\n\n\t\tvar labels = convert[this.model].labels;\n\t\tvar color = [];\n\t\tfor (i = 0; i < labels.length; i++) {\n\t\t\tcolor.push(obj[labels[i]]);\n\t\t}\n\n\t\tthis.color = zeroArray(color);\n\t}\n\n\t// perform limitations (clamping, etc.)\n\tif (limiters[this.model]) {\n\t\tchannels = convert[this.model].channels;\n\t\tfor (i = 0; i < channels; i++) {\n\t\t\tvar limit = limiters[this.model][i];\n\t\t\tif (limit) {\n\t\t\t\tthis.color[i] = limit(this.color[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\tthis.valpha = Math.max(0, Math.min(1, this.valpha));\n\n\tif (Object.freeze) {\n\t\tObject.freeze(this);\n\t}\n}\n\nColor.prototype = {\n\ttoString: function () {\n\t\treturn this.string();\n\t},\n\n\ttoJSON: function () {\n\t\treturn this[this.model]();\n\t},\n\n\tstring: function (places) {\n\t\tvar self = this.model in colorString.to ? this : this.rgb();\n\t\tself = self.round(typeof places === 'number' ? places : 1);\n\t\tvar args = self.valpha === 1 ? self.color : self.color.concat(this.valpha);\n\t\treturn colorString.to[self.model](args);\n\t},\n\n\tpercentString: function (places) {\n\t\tvar self = this.rgb().round(typeof places === 'number' ? places : 1);\n\t\tvar args = self.valpha === 1 ? self.color : self.color.concat(this.valpha);\n\t\treturn colorString.to.rgb.percent(args);\n\t},\n\n\tarray: function () {\n\t\treturn this.valpha === 1 ? this.color.slice() : this.color.concat(this.valpha);\n\t},\n\n\tobject: function () {\n\t\tvar result = {};\n\t\tvar channels = convert[this.model].channels;\n\t\tvar labels = convert[this.model].labels;\n\n\t\tfor (var i = 0; i < channels; i++) {\n\t\t\tresult[labels[i]] = this.color[i];\n\t\t}\n\n\t\tif (this.valpha !== 1) {\n\t\t\tresult.alpha = this.valpha;\n\t\t}\n\n\t\treturn result;\n\t},\n\n\tunitArray: function () {\n\t\tvar rgb = this.rgb().color;\n\t\trgb[0] /= 255;\n\t\trgb[1] /= 255;\n\t\trgb[2] /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.push(this.valpha);\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tunitObject: function () {\n\t\tvar rgb = this.rgb().object();\n\t\trgb.r /= 255;\n\t\trgb.g /= 255;\n\t\trgb.b /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.alpha = this.valpha;\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tround: function (places) {\n\t\tplaces = Math.max(places || 0, 0);\n\t\treturn new Color(this.color.map(roundToPlace(places)).concat(this.valpha), this.model);\n\t},\n\n\talpha: function (val) {\n\t\tif (arguments.length) {\n\t\t\treturn new Color(this.color.concat(Math.max(0, Math.min(1, val))), this.model);\n\t\t}\n\n\t\treturn this.valpha;\n\t},\n\n\t// rgb\n\tred: getset('rgb', 0, maxfn(255)),\n\tgreen: getset('rgb', 1, maxfn(255)),\n\tblue: getset('rgb', 2, maxfn(255)),\n\n\thue: getset(['hsl', 'hsv', 'hsl', 'hwb', 'hcg'], 0, function (val) { return ((val % 360) + 360) % 360; }), // eslint-disable-line brace-style\n\n\tsaturationl: getset('hsl', 1, maxfn(100)),\n\tlightness: getset('hsl', 2, maxfn(100)),\n\n\tsaturationv: getset('hsv', 1, maxfn(100)),\n\tvalue: getset('hsv', 2, maxfn(100)),\n\n\tchroma: getset('hcg', 1, maxfn(100)),\n\tgray: getset('hcg', 2, maxfn(100)),\n\n\twhite: getset('hwb', 1, maxfn(100)),\n\twblack: getset('hwb', 2, maxfn(100)),\n\n\tcyan: getset('cmyk', 0, maxfn(100)),\n\tmagenta: getset('cmyk', 1, maxfn(100)),\n\tyellow: getset('cmyk', 2, maxfn(100)),\n\tblack: getset('cmyk', 3, maxfn(100)),\n\n\tx: getset('xyz', 0, maxfn(100)),\n\ty: getset('xyz', 1, maxfn(100)),\n\tz: getset('xyz', 2, maxfn(100)),\n\n\tl: getset('lab', 0, maxfn(100)),\n\ta: getset('lab', 1),\n\tb: getset('lab', 2),\n\n\tkeyword: function (val) {\n\t\tif (arguments.length) {\n\t\t\treturn new Color(val);\n\t\t}\n\n\t\treturn convert[this.model].keyword(this.color);\n\t},\n\n\thex: function (val) {\n\t\tif (arguments.length) {\n\t\t\treturn new Color(val);\n\t\t}\n\n\t\treturn colorString.to.hex(this.rgb().round().color);\n\t},\n\n\trgbNumber: function () {\n\t\tvar rgb = this.rgb().color;\n\t\treturn ((rgb[0] & 0xFF) << 16) | ((rgb[1] & 0xFF) << 8) | (rgb[2] & 0xFF);\n\t},\n\n\tluminosity: function () {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tvar rgb = this.rgb().color;\n\n\t\tvar lum = [];\n\t\tfor (var i = 0; i < rgb.length; i++) {\n\t\t\tvar chan = rgb[i] / 255;\n\t\t\tlum[i] = (chan <= 0.03928) ? chan / 12.92 : Math.pow(((chan + 0.055) / 1.055), 2.4);\n\t\t}\n\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast: function (color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tvar lum1 = this.luminosity();\n\t\tvar lum2 = color2.luminosity();\n\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel: function (color2) {\n\t\tvar contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7.1) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tisDark: function () {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tvar rgb = this.rgb().color;\n\t\tvar yiq = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;\n\t\treturn yiq < 128;\n\t},\n\n\tisLight: function () {\n\t\treturn !this.isDark();\n\t},\n\n\tnegate: function () {\n\t\tvar rgb = this.rgb();\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\trgb.color[i] = 255 - rgb.color[i];\n\t\t}\n\t\treturn rgb;\n\t},\n\n\tlighten: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[2] += hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdarken: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[2] -= hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tsaturate: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[1] += hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdesaturate: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[1] -= hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\twhiten: function (ratio) {\n\t\tvar hwb = this.hwb();\n\t\thwb.color[1] += hwb.color[1] * ratio;\n\t\treturn hwb;\n\t},\n\n\tblacken: function (ratio) {\n\t\tvar hwb = this.hwb();\n\t\thwb.color[2] += hwb.color[2] * ratio;\n\t\treturn hwb;\n\t},\n\n\tgrayscale: function () {\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n\t\tvar rgb = this.rgb().color;\n\t\tvar val = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\treturn Color.rgb(val, val, val);\n\t},\n\n\tfade: function (ratio) {\n\t\treturn this.alpha(this.valpha - (this.valpha * ratio));\n\t},\n\n\topaquer: function (ratio) {\n\t\treturn this.alpha(this.valpha + (this.valpha * ratio));\n\t},\n\n\trotate: function (degrees) {\n\t\tvar hsl = this.hsl();\n\t\tvar hue = hsl.color[0];\n\t\thue = (hue + degrees) % 360;\n\t\thue = hue < 0 ? 360 + hue : hue;\n\t\thsl.color[0] = hue;\n\t\treturn hsl;\n\t},\n\n\tmix: function (mixinColor, weight) {\n\t\t// ported from sass implementation in C\n\t\t// https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t\tif (!mixinColor || !mixinColor.rgb) {\n\t\t\tthrow new Error('Argument to \"mix\" was not a Color instance, but rather an instance of ' + typeof mixinColor);\n\t\t}\n\t\tvar color1 = mixinColor.rgb();\n\t\tvar color2 = this.rgb();\n\t\tvar p = weight === undefined ? 0.5 : weight;\n\n\t\tvar w = 2 * p - 1;\n\t\tvar a = color1.alpha() - color2.alpha();\n\n\t\tvar w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n\t\tvar w2 = 1 - w1;\n\n\t\treturn Color.rgb(\n\t\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\t\tw1 * color1.blue() + w2 * color2.blue(),\n\t\t\t\tcolor1.alpha() * p + color2.alpha() * (1 - p));\n\t}\n};\n\n// model conversion methods and static constructors\nObject.keys(convert).forEach(function (model) {\n\tif (skippedModels.indexOf(model) !== -1) {\n\t\treturn;\n\t}\n\n\tvar channels = convert[model].channels;\n\n\t// conversion methods\n\tColor.prototype[model] = function () {\n\t\tif (this.model === model) {\n\t\t\treturn new Color(this);\n\t\t}\n\n\t\tif (arguments.length) {\n\t\t\treturn new Color(arguments, model);\n\t\t}\n\n\t\tvar newAlpha = typeof arguments[channels] === 'number' ? channels : this.valpha;\n\t\treturn new Color(assertArray(convert[this.model][model].raw(this.color)).concat(newAlpha), model);\n\t};\n\n\t// 'static' construction methods\n\tColor[model] = function (color) {\n\t\tif (typeof color === 'number') {\n\t\t\tcolor = zeroArray(_slice.call(arguments), channels);\n\t\t}\n\t\treturn new Color(color, model);\n\t};\n});\n\nfunction roundTo(num, places) {\n\treturn Number(num.toFixed(places));\n}\n\nfunction roundToPlace(places) {\n\treturn function (num) {\n\t\treturn roundTo(num, places);\n\t};\n}\n\nfunction getset(model, channel, modifier) {\n\tmodel = Array.isArray(model) ? model : [model];\n\n\tmodel.forEach(function (m) {\n\t\t(limiters[m] || (limiters[m] = []))[channel] = modifier;\n\t});\n\n\tmodel = model[0];\n\n\treturn function (val) {\n\t\tvar result;\n\n\t\tif (arguments.length) {\n\t\t\tif (modifier) {\n\t\t\t\tval = modifier(val);\n\t\t\t}\n\n\t\t\tresult = this[model]();\n\t\t\tresult.color[channel] = val;\n\t\t\treturn result;\n\t\t}\n\n\t\tresult = this[model]().color[channel];\n\t\tif (modifier) {\n\t\t\tresult = modifier(result);\n\t\t}\n\n\t\treturn result;\n\t};\n}\n\nfunction maxfn(max) {\n\treturn function (v) {\n\t\treturn Math.max(0, Math.min(max, v));\n\t};\n}\n\nfunction assertArray(val) {\n\treturn Array.isArray(val) ? val : [val];\n}\n\nfunction zeroArray(arr, length) {\n\tfor (var i = 0; i < length; i++) {\n\t\tif (typeof arr[i] !== 'number') {\n\t\t\tarr[i] = 0;\n\t\t}\n\t}\n\n\treturn arr;\n}\n\nmodule.exports = Color;\n","'use strict';\n\n// <3 Modernizr\n// https://raw.githubusercontent.com/Modernizr/Modernizr/master/feature-detects/dom/dataset.js\nfunction useNative() {\n\tconst elem = document.createElement('div');\n\telem.setAttribute('data-a-b', 'c');\n\n\treturn Boolean(elem.dataset && elem.dataset.aB === 'c');\n}\n\nfunction nativeDataset(element) {\n\treturn element.dataset;\n}\n\nmodule.exports = useNative() ? nativeDataset : element => {\n\tconst map = {};\n\tconst {attributes} = element;\n\n\tfunction getter() {\n\t\treturn this.value;\n\t}\n\n\tfunction setter(name, value) {\n\t\tif (typeof value === 'undefined') {\n\t\t\tthis.removeAttribute(name);\n\n\t\t} else {\n\t\t\tthis.setAttribute(name, value);\n\t\t}\n\t}\n\n\tfor (let i = 0, j = attributes.length; i < j; i++) {\n\t\tconst attribute = attributes[i];\n\n\t\tif (attribute) {\n\t\t\tconst {name} = attribute;\n\n\t\t\tif (name.indexOf('data-') === 0) {\n\t\t\t\tconst prop = name.slice(5).replace(/-./g, u => {\n\t\t\t\t\treturn u.charAt(1).toUpperCase();\n\t\t\t\t});\n\n\t\t\t\tconst {value} = attribute;\n\n\t\t\t\tObject.defineProperty(map, prop, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: getter.bind({value: value || ''}),\n\t\t\t\t\tset: setter.bind(element, name)\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\treturn map;\n};\n","module.exports = function isArrayish(obj) {\n\tif (!obj || typeof obj === 'string') {\n\t\treturn false;\n\t}\n\n\treturn obj instanceof Array || Array.isArray(obj) ||\n\t\t(obj.length >= 0 && (obj.splice instanceof Function ||\n\t\t\t(Object.getOwnPropertyDescriptor(obj, (obj.length - 1)) && obj.constructor.name !== 'String')));\n};\n","'use strict';\n\nvar isArrayish = require('is-arrayish');\n\nvar concat = Array.prototype.concat;\nvar slice = Array.prototype.slice;\n\nvar swizzle = module.exports = function swizzle(args) {\n\tvar results = [];\n\n\tfor (var i = 0, len = args.length; i < len; i++) {\n\t\tvar arg = args[i];\n\n\t\tif (isArrayish(arg)) {\n\t\t\t// http://jsperf.com/javascript-array-concat-vs-push/98\n\t\t\tresults = concat.call(results, slice.call(arg));\n\t\t} else {\n\t\t\tresults.push(arg);\n\t\t}\n\t}\n\n\treturn results;\n};\n\nswizzle.wrap = function (fn) {\n\treturn function () {\n\t\treturn fn(swizzle(arguments));\n\t};\n};\n"],"sourceRoot":""}